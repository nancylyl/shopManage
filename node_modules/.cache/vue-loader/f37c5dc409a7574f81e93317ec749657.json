{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\productshow.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\productshow.vue","mtime":1595004929431},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgeyBmb3JtYXROdW0gfSBmcm9tICcuLi8uLi90b29sa2l0Jw0KaW1wb3J0IHsgbWFwR2V0dGVycywgbWFwQWN0aW9ucyB9IGZyb20gJ3Z1ZXgnDQppbXBvcnQgYnJlYWRjcnVtYlZ1ZSBmcm9tICdAL2NvbXBvbmVudHMvY29udGVudC9icmVhZGNydW1iJw0KaW1wb3J0IHNob3dib3ggZnJvbSAnLi9zaG93Ym94Jw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnbGlmZWFwcCcsDQogIGRhdGEoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIGxpc3Rwcm86IFtdLA0KICAgICAgdHlwZTogJycsDQogICAgICBvbGRvcmRlcnp4OiAnJywNCiAgICAgIG9sZG9kZXJ4bDogJycNCiAgICAgIC8vIGtleTogJycNCiAgICB9DQogIH0sDQogIHByb3BzOiBbJ3Byb2R1Y3RUeXBlJ10sDQogIGNvbXBvbmVudHM6IHsNCiAgICBicmVhZGNydW1iVnVlLA0KICAgIHNob3dib3gNCiAgfSwNCiAgY3JlYXRlZDogYXN5bmMgZnVuY3Rpb24oKSB7DQogICAgLy90aGlzLmtleSA9IHRoaXMua2V5DQogICAgbGV0IGlzdHVyZSA9IGF3YWl0IHRoaXMuZ2V0cHJvbGlzdCgpDQogICAgaWYgKGlzdHVyZSkgew0KICAgICAgdGhpcy5saXN0cHJvID0gdGhpcy5zaG93bGlzdA0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCgpIHt9LA0KICBtZXRob2RzOiB7DQogICAgLi4ubWFwQWN0aW9ucyhbJ2dldHNob3dsaXN0J10pLA0KDQogICAgZ2V0cHJvbGlzdDogZnVuY3Rpb24oKSB7DQogICAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUsIHJlamVjdCkgPT4gew0KICAgICAgICBsZXQgZGF0YSA9IHsNCiAgICAgICAgICBQYWdlQ291bnQ6IDEwMCwNCiAgICAgICAgICBDdXJyZW50UGFnZTogMSwNCiAgICAgICAgICBrZXk6IHRoaXMua2V5LA0KICAgICAgICAgIC8vIFBfVHlwZV9NZW51X0lkOiB0aGlzLnByb2R1Y3RUeXBlDQogICAgICAgICAgUF9UeXBlX01lbnVfSWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnNob3BtZW51c3RvcmUubmF2YmFyDQogICAgICAgIH0NCiAgICAgICAgYXdhaXQgdGhpcy5nZXRzaG93bGlzdChkYXRhKQ0KICAgICAgICByZXNvbHZlKHRydWUpDQogICAgICB9KQ0KICAgIH0sDQogICAgc29ydChzdGF0ZSkgew0KICAgICAgLy8gIGNvbnNvbGUubG9nKCczMycpDQogICAgICBpZiAoc3RhdGUgPT0gMSkgew0KICAgICAgICBpZiAodGhpcy5vbGRvcmRlcnp4ID09ICdkZXNjJykgew0KICAgICAgICAgIHRoaXMub2xkb3JkZXJ6eCA9ICdhc2MnDQogICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgdGhpcy5vbGRvcmRlcnp4ID0gJ2Rlc2MnDQogICAgICAgIH0NCiAgICAgICAgdGhpcy5zb3J0RGF0YSgnQ3JlYXRlRGF0ZScsIHRoaXMub2xkb3JkZXIpDQogICAgICB9IGVsc2UgaWYgKHN0YXRlID09IDIpIHsNCiAgICAgICAgaWYgKHRoaXMub2xkb2RlcnhsID09ICdkZXNjJykgew0KICAgICAgICAgIHRoaXMub2xkb2RlcnhsID0gJ2FzYycNCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICB0aGlzLm9sZG9kZXJ4bCA9ICdkZXNjJw0KICAgICAgICB9DQogICAgICAgIHRoaXMuc29ydERhdGEoJ1Byb19OZXdDb3VudCcsIHRoaXMub2xkb2RlcnhsKQ0KICAgICAgfSBlbHNlIGlmIChzdGF0ZSA9PSAzKSB7DQogICAgICAgIHRoaXMuc29ydERhdGEoJ1ByaWNlJywgJ2FzYycpDQogICAgICB9IGVsc2UgaWYgKHN0YXRlID09IDQpIHsNCiAgICAgICAgdGhpcy5zb3J0RGF0YSgnUHJpY2UnLCAnZGVzYycpDQogICAgICB9DQogICAgfSwNCiAgICBzb3J0RGF0YShrZXksIG9yZGVyKSB7DQogICAgICByZXR1cm4gdGhpcy5saXN0cHJvLnNvcnQoZnVuY3Rpb24oYSwgYikgew0KICAgICAgICAvLyBjb25zb2xlLmxvZyhhKQ0KDQogICAgICAgIHZhciB4ID0gYVtrZXldDQogICAgICAgIHZhciB5ID0gYltrZXldDQogICAgICAgIGxldCBsYXN0DQogICAgICAgIGlmIChvcmRlciA9PSAnYXNjJykgew0KICAgICAgICAgIGxhc3QgPSB4IDwgeSA/IC0xIDogeCA+IHkgPyAxIDogMA0KICAgICAgICB9IGVsc2Ugew0KICAgICAgICAgIGxhc3QgPSB5IDwgeCA/IC0xIDogeSA+IHggPyAxIDogMA0KICAgICAgICB9DQogICAgICAgIHJldHVybiBsYXN0DQogICAgICB9KQ0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsnc2hvd2xpc3QnLCAna2V5J10pDQogIH0sDQoNCiAgd2F0Y2g6IHsNCiAgICAnJHN0b3JlLnN0YXRlLnNob3dib3gua2V5JzogYXN5bmMgZnVuY3Rpb24oKSB7DQogICAgICAvL+ebkeWQrHZ1ZXjkuK11c2VyTmFtZeWPmOWMluiAjOaUueWPmGhlYWRlcumHjOmdoueahOWAvA0KICAgICAgY29uc29sZS5sb2codGhpcy5rZXkpDQogICAgICBsZXQgaXN0dXJlID0gYXdhaXQgdGhpcy5nZXRwcm9saXN0KCkNCiAgICAgIGlmIChpc3R1cmUpIHsNCiAgICAgICAgdGhpcy5saXN0cHJvID0gdGhpcy5zaG93bGlzdA0KICAgICAgfQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zaG93bGlzdCkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["productshow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"productshow.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n  <div class=\"lifeapp\" v-if=\"$store.state.showbox.showlist.length>0&& this.listpro!=null\">\r\n    <div class=\"sort\">\r\n      <ul>\r\n        <li style=\"font-weight:bold;text-decoration:none;cursor: unset\">排序方式：</li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(1)\">最新</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(2)\">销量</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(3)\">价格</a>\r\n\r\n          <span class=\"icon iconfont\">&#xe6db;</span>\r\n        </li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(4)\">价格</a>\r\n          <span class=\"icon iconfont\">&#xe6da;</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <ul class=\"products\" v-if=\"listpro.length>0\">\r\n      <li v-for=\"item in listpro\" :key=\"item.id\">\r\n        <showbox\r\n          :imgSrc=\"item.children\"\r\n          :price=\"item.Price\"\r\n          :tittle=\"item.Pro_Name\"\r\n          :Pro_Id=\"item.Pro_Id\"\r\n        ></showbox>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { formatNum } from '../../toolkit'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport breadcrumbVue from '@/components/content/breadcrumb'\r\nimport showbox from './showbox'\r\nexport default {\r\n  name: 'lifeapp',\r\n  data() {\r\n    return {\r\n      listpro: [],\r\n      type: '',\r\n      oldorderzx: '',\r\n      oldoderxl: ''\r\n      // key: ''\r\n    }\r\n  },\r\n  props: ['productType'],\r\n  components: {\r\n    breadcrumbVue,\r\n    showbox\r\n  },\r\n  created: async function() {\r\n    //this.key = this.key\r\n    let isture = await this.getprolist()\r\n    if (isture) {\r\n      this.listpro = this.showlist\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    ...mapActions(['getshowlist']),\r\n\r\n    getprolist: function() {\r\n      return new Promise(async (resolve, reject) => {\r\n        let data = {\r\n          PageCount: 100,\r\n          CurrentPage: 1,\r\n          key: this.key,\r\n          // P_Type_Menu_Id: this.productType\r\n          P_Type_Menu_Id: this.$store.state.shopmenustore.navbar\r\n        }\r\n        await this.getshowlist(data)\r\n        resolve(true)\r\n      })\r\n    },\r\n    sort(state) {\r\n      //  console.log('33')\r\n      if (state == 1) {\r\n        if (this.oldorderzx == 'desc') {\r\n          this.oldorderzx = 'asc'\r\n        } else {\r\n          this.oldorderzx = 'desc'\r\n        }\r\n        this.sortData('CreateDate', this.oldorder)\r\n      } else if (state == 2) {\r\n        if (this.oldoderxl == 'desc') {\r\n          this.oldoderxl = 'asc'\r\n        } else {\r\n          this.oldoderxl = 'desc'\r\n        }\r\n        this.sortData('Pro_NewCount', this.oldoderxl)\r\n      } else if (state == 3) {\r\n        this.sortData('Price', 'asc')\r\n      } else if (state == 4) {\r\n        this.sortData('Price', 'desc')\r\n      }\r\n    },\r\n    sortData(key, order) {\r\n      return this.listpro.sort(function(a, b) {\r\n        // console.log(a)\r\n\r\n        var x = a[key]\r\n        var y = b[key]\r\n        let last\r\n        if (order == 'asc') {\r\n          last = x < y ? -1 : x > y ? 1 : 0\r\n        } else {\r\n          last = y < x ? -1 : y > x ? 1 : 0\r\n        }\r\n        return last\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['showlist', 'key'])\r\n  },\r\n\r\n  watch: {\r\n    '$store.state.showbox.key': async function() {\r\n      //监听vuex中userName变化而改变header里面的值\r\n      console.log(this.key)\r\n      let isture = await this.getprolist()\r\n      if (isture) {\r\n        this.listpro = this.showlist\r\n      }\r\n      // console.log(this.showlist)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import '~assets/css/productshow/life.scss';\r\n</style>"]}]}