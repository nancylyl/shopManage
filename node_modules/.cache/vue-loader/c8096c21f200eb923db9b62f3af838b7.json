{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\order.vue","mtime":1595004929426},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCB7IGFkZE9yZGVyIH0gZnJvbSAnQC9uZXR3b3JrL29yZGVyJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnb3JkZXInLA0KICBkYXRhKCl7DQogICAgIHJldHVybnsNCiAgICAgIHRvdGFsUHJpY2U6IDAsDQogICAgICBmcmVpZ2h0OiAwLA0KICAgICAgRGVsdGltZWlkOiAwDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgeyAgDQogICAgLy8gY29uc29sZS5sb2codGhpcy5jaGVja2VkRGF0YVswXSkNCiAgICB0aGlzLmdldFNpdGVMaXN0KCkNCiAgICB0aGlzLmNhcnREYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgIHRoaXMudG90YWxQcmljZSArPSBpdGVtLnByb2R1Y3RfUHJpY2UqaXRlbS5udW0NCiAgICB9KQ0KICAgIGlmKHRoaXMudG90YWxQcmljZT49ODgpew0KICAgICAgdGhpcy5mcmVpZ2h0ID0gMA0KICAgIH1lbHNlew0KICAgICAgdGhpcy5mcmVpZ2h0ID0gMTINCiAgICB9DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIC4uLm1hcEFjdGlvbnMoWydnZXRTaXRlTGlzdCddKSwNCiAgICB0b2hvbWUoKXsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpDQogICAgfSwNCiAgICBpbmRleFNlbGVjdChldmVudCl7DQogICAgICB0aGlzLkRlbHRpbWVpZCA9IGV2ZW50LnRhcmdldC52YWx1ZQ0KICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LnZhbHVlKQ0KICAgIH0sDQogICAgdXBPcmRlcigpIHsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGF5T3JkZXIiKQ0KICAgICAgbGV0IG9yZGVyTGlzdCA9IFtdwqDCoMKgICAgICAgDQogICAgICB0aGlzLmNhcnREYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgICAgICBvcmRlckxpc3QucHVzaCh7DQogICAgICAgICAgICAgICAgUElkOiDCoHRoaXMuY2FydERhdGFbaW5kZXhdLmlkLCAvLyDotK3kubDnianlk4FpZA0KICAgICAgICAgICAgICAgIFByaWNlOiB0aGlzLmNhcnREYXRhW2luZGV4XS5wcm9kdWN0X1ByaWNlLCAvLyDllYblk4Hku7fmoLwNCiAgICAgICAgICAgICAgICBOdW06IMKgdGhpcy5jYXJ0RGF0YVtpbmRleF0ubnVtLCAvLyDotK3kubDllYblk4HmlbDph48NCiAgICAgICAgICAgICAgICBTY29yZTogdGhpcy5jYXJ0RGF0YVtpbmRleF0uU2NvcmUsIC8vIOi0reS5sOWVhuWTgeenr+WIhg0KICAgICAgICAgICAgICAgIElzX0ludm9pYzogwqAwLCAvLyDmmK/lkKblvIDlhbflj5HnpagNCiAgICAgICAgICAgICAgICBJbnZvaWNfVHlwZTogwqAxLC8vIOWPkeelqOenjeexuw0KICAgICAgICAgICAgICAgIElTX0NvdXBvbjogwqAwLCAvLyDmmK/lkKbkvb/nlKjkvJjmg6DliLgNCiAgICAgICAgICAgICAgICBDb3Vwb25fSWQ6IMKgMCwgLy8g5LyY5oOg5Yi4aWQNCiAgICAgICAgICAgICAgICBJc19HaWZ0OiDCoDAsIC8vIOaYr+WQpuS9v+eUqOekvOWTgeWNoQ0KICAgICAgICAgICAgICAgIEdpZnRfSWQ6IMKgMCwgLy8g56S85ZOB5Y2h5L2/55SoaWQNCiAgICAgICAgICAgICAgICBTZW5kX1R5cGU6IMKgMSwgLy8g6YWN6YCB5pa55byPDQogICAgICAgICAgICAgICAgUGF5X1R5cGVfSWQ6IMKgdGhpcy5jaGVja2VkRGF0YVswXS5wYXlJZCwgLy8g5LuY5qy+5pa55byPaWQNCiAgICAgICAgICAgICAgICBBZGRyZXNzX0lEOiDCoDEsIC8vIOaUtui0p+WcsOWdgGlkDQogICAgICAgICAgICAgICAgTmV3X05hbWU6IMKgIHRoaXMuZGVmYXVsdFNpdGVbMF0uU19OYW1lLA0KICAgICAgICAgICAgICAgIE5ld19Qcm92aW5jZTogwqB0aGlzLmRlZmF1bHRTaXRlWzBdLlByb3ZpbmNlLMKgwqDCoMKgwqANCiAgICAgICAgICAgICAgICBOZXdfQ2l0eTogwqB0aGlzLmRlZmF1bHRTaXRlWzBdLkNpdHkswqDCoMKgDQogICAgICAgICAgICAgICAgTmV3X0FyZWE6IMKgdGhpcy5kZWZhdWx0U2l0ZVswXS5BcmVhLA0KICAgICAgICAgICAgICAgIE5ld19BZGRyZXNzOiDCoHRoaXMuZGVmYXVsdFNpdGVbMF0uQWRkcmVzcywNCiAgICAgICAgICAgICAgICBOZXdfTWFpbDogwqB0aGlzLmRlZmF1bHRTaXRlWzBdLk1haWwswqDCoMKgDQogICAgICAgICAgICAgICAgTmV3X1Bob25lOiDCoHRoaXMuZGVmYXVsdFNpdGVbMF0uUGhvbmUswqANCiAgICAgICAgICAgICAgICBOZXdfVGVsOiDCoHRoaXMuZGVmYXVsdFNpdGVbMF0uVGVsLA0KICAgICAgICAgICAgICAgIERlbHRpbWU6IMKgdGhpcy5EZWx0aW1laWTCoMKgwqAvLyDpgIHotKfml7bpl7Tnp43nsbvCoMKgDQogICAgICAgICAgICB9KQ0KICAgICAgfSkNCiAgICAgIC8vIGNvbnNvbGUubG9nKG9yZGVyTGlzdCkNCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGVmYXVsdFNpdGVbMF0pDQogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNoZWNrZWREYXRhWzBdKQ0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jYXJ0RGF0YSkNCiAgICAgIGFkZE9yZGVyKG9yZGVyTGlzdCkNCiAgICB9DQogIH0sDQogIGNvbXB1dGVkOiB7DQogICAgLi4ubWFwR2V0dGVycyhbJ3NpdGVMaXN0JywnY2FydERhdGEnLCdjaGVja2VkRGF0YSddKSwNCiAgICBkZWZhdWx0U2l0ZTogZnVuY3Rpb24gKCkgew0KICAgICAgcmV0dXJuIHRoaXMuc2l0ZUxpc3QuZmlsdGVyKGZ1bmN0aW9uIChzaXRlTGlzdCkgew0KICAgICAgICByZXR1cm4gc2l0ZUxpc3QuSXNfVHJ1ZT09MQ0KICAgICAgfSkNCiAgICB9IA0KICB9DQp9DQo="},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n  <div class=\"order\">\r\n  <div class=\"jiantou\">\r\n    <img alt=\"大朴\" src=\"http://p2.dapuimg.com/themes/blue/images/images/icons/logo2015.png\" width=\"200\" height=\"50\" border=\"0\" @click=\"tohome\">\r\n    <ol>\r\n      <li class=\"step1\">1、我的购物车</li>\r\n\r\n      <li class=\"step2 on\">2、填写核对订单信息</li>\r\n      <li class=\"step3\">3、成功提交订单</li>\r\n\t  </ol>\r\n  </div>\r\n   <div class=\"address\">\r\n      <div class=\"th\">\r\n        <span>收货人信息</span>\r\n        <a href=\"\">修改</a>\r\n      </div>\r\n      <div v-for=\"item in defaultSite\" :key=\"item.id\"> \r\n        <p>\r\n          <label>收货人姓名：</label>\r\n          <span>{{item.S_Name}}</span>\r\n        </p>\r\n        <p>\r\n          <label>收货人地区：</label>\r\n          <span>{{item.Province+'-'+item.City+'-'+item.Area}}</span>\r\n        </p>\r\n        <P>\r\n          <label>收货人地址：</label>\r\n          <span>{{item.Address}}</span>\r\n        </P>\r\n        <P>\r\n          <label>邮编：</label>\r\n          <span>{{item.Mail}}</span>\r\n        </P>\r\n        <P>\r\n          <label>手机：</label>\r\n          <span>{{item.Phone}}</span>\r\n        </P>\r\n        <P>\r\n          <label>固定电话：</label>\r\n          <span>{{item.Tel}}</span>\r\n        </P>\r\n        <P>\r\n          <label>送货时间：</label>\r\n          <select @change=\"indexSelect($event)\" >\r\n            <option value=\"0\">工作日、双休日与假日均可送货</option>\r\n            <option value=\"1\">只工作日送货（双休日与假日不用送）</option>\r\n            <option value=\"2\">只双休日、假日送货（工作日不用送）</option>\r\n          </select>  \r\n        </P>\r\n      </div> \r\n    </div> \r\n      <div class=\"address\" style=\"margin-top:25px\">\r\n      <div class=\"th\" >\r\n        <span>配送及支付方式</span>\r\n        <router-link :to=\"{path:'/paybyway',query:{id:1}}\">修改</router-link>\r\n      </div>\r\n      <p>\r\n        <label>配送方式：</label>\r\n        <span>快递-{{checkedData[0].payway}}</span>\r\n      </p>\r\n      <p>\r\n        <label>付款方式：</label>\r\n        <span>网银-{{checkedData[0].whichway}}</span>\r\n      </p>\r\n    </div> \r\n    <div class=\"address\" style=\"margin-top:25px\">\r\n      <div class=\"th\" >\r\n        <span>商品清单</span>\r\n        <a href=\"\"> 返回修改购物车</a>\r\n      </div>\r\n      <div class=\"xiangqing\" v-if=\"cartData!=''\">\r\n         <el-table\r\n          :data=\"cartData\"\r\n          :header-cell-style=\"{fontSize:'14px',color:'#6b6b6b'}\"\r\n          style=\"width: 100%\">\r\n          <el-table-column\r\n            label=\"商品信息\">\r\n            <template slot-scope=\"scope\">\r\n              <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">\r\n                  <img :src=\"scope.row.img\" alt=\"\" style=\"float:left\">\r\n              </router-link>\r\n              <div class=\"detail\">\r\n                <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">{{scope.row.product_Name}}</router-link>\r\n                <p><span>{{scope.row.Title1+\" \"+scope.row.Title1value}}</span> <span v-if=\"scope.row.Title2!=''\">{{\"、\"+scope.row.Title2+\"\"+scope.row.Title2value}}</span></p>\r\n              </div>\r\n              \r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"商品单价\"\r\n            width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n                <span>¥{{scope.row.product_Price}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"商品数量\"\r\n            width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n                <span>{{scope.row.num}}</span>\r\n            </template>    \r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"小计\"\r\n            width=\"140\">\r\n            <template slot-scope=\"scope\">\r\n                <span>¥{{scope.row.num*scope.row.product_Price}}</span>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div> \r\n    <div class=\"address\" style=\"margin-top:25px;\">\r\n      <div class=\"th\" >\r\n        <span>结算信息</span>\r\n      </div>\r\n      <div style=\" height:200px\">\r\n      <div class=\"jiesuan\">\r\n        <div>\r\n          <input type=\"checkbox\"> \r\n          <span style=\"color:#2980B9\">使用优惠券</span>\r\n        </div>\r\n        <div>\r\n          <input type=\"checkbox\"> \r\n          <span style=\"font-size:13px\">支持礼品卡支付</span>\r\n        </div>\r\n        <div> \r\n          <span style=\"color:#2980B9\">订单备注：</span>\r\n           <input>\r\n        </div>\r\n      </div>\r\n       <div class=\"two\">\r\n          <div style=\"height:40px\"></div>\r\n          <div>\r\n            <label>商品金额</label>\r\n            <span>¥{{totalPrice}}</span>\r\n          </div>\r\n          <div style=\"border-bottom:1px solid black\">\r\n            <label>配送金额</label>\r\n            <span>+¥{{freight}}</span>\r\n          </div>\r\n          <div style=\"padding-top:20px;color:red;font-size:20px;text-align:right;margin-bottom：10px\">\r\n             <label>应付金额：</label>\r\n            <span style=\"margin-left:0;margin-right:50px\">¥{{totalPrice+freight}}元</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"btn\" @click=\"upOrder\">提交订单</button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { addOrder } from '@/network/order'\r\nexport default {\r\n  name: 'order',\r\n  data(){\r\n     return{\r\n      totalPrice: 0,\r\n      freight: 0,\r\n      Deltimeid: 0\r\n    }\r\n  },\r\n  created() {  \r\n    // console.log(this.checkedData[0])\r\n    this.getSiteList()\r\n    this.cartData.map((item, index) => {\r\n      this.totalPrice += item.product_Price*item.num\r\n    })\r\n    if(this.totalPrice>=88){\r\n      this.freight = 0\r\n    }else{\r\n      this.freight = 12\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapActions(['getSiteList']),\r\n    tohome(){\r\n      this.$router.push(\"/home\")\r\n    },\r\n    indexSelect(event){\r\n      this.Deltimeid = event.target.value\r\n      // console.log(event.target.value)\r\n    },\r\n    upOrder() {\r\n      this.$router.push(\"/payOrder\")\r\n      let orderList = []         \r\n      this.cartData.map((item, index) => {\r\n          orderList.push({\r\n                PId:  this.cartData[index].id, // 购买物品id\r\n                Price: this.cartData[index].product_Price, // 商品价格\r\n                Num:  this.cartData[index].num, // 购买商品数量\r\n                Score: this.cartData[index].Score, // 购买商品积分\r\n                Is_Invoic:  0, // 是否开具发票\r\n                Invoic_Type:  1,// 发票种类\r\n                IS_Coupon:  0, // 是否使用优惠券\r\n                Coupon_Id:  0, // 优惠券id\r\n                Is_Gift:  0, // 是否使用礼品卡\r\n                Gift_Id:  0, // 礼品卡使用id\r\n                Send_Type:  1, // 配送方式\r\n                Pay_Type_Id:  this.checkedData[0].payId, // 付款方式id\r\n                Address_ID:  1, // 收货地址id\r\n                New_Name:   this.defaultSite[0].S_Name,\r\n                New_Province:  this.defaultSite[0].Province,     \r\n                New_City:  this.defaultSite[0].City,   \r\n                New_Area:  this.defaultSite[0].Area,\r\n                New_Address:  this.defaultSite[0].Address,\r\n                New_Mail:  this.defaultSite[0].Mail,   \r\n                New_Phone:  this.defaultSite[0].Phone, \r\n                New_Tel:  this.defaultSite[0].Tel,\r\n                Deltime:  this.Deltimeid   // 送货时间种类  \r\n            })\r\n      })\r\n      // console.log(orderList)\r\n      // console.log(this.defaultSite[0])\r\n      // console.log(this.checkedData[0])\r\n      // console.log(this.cartData)\r\n      addOrder(orderList)\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['siteList','cartData','checkedData']),\r\n    defaultSite: function () {\r\n      return this.siteList.filter(function (siteList) {\r\n        return siteList.Is_True==1\r\n      })\r\n    } \r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"~assets/css/cart/order.scss\";\r\n</style>"]}]}