{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\order.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\order.vue","mtime":1595073659228},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzLCBtYXBBY3Rpb25zIH0gZnJvbSAndnVleCcNCmltcG9ydCB7IGFkZE9yZGVyIH0gZnJvbSAnQC9uZXR3b3JrL29yZGVyJw0KZXhwb3J0IGRlZmF1bHQgew0KICBuYW1lOiAnb3JkZXInLA0KICBkYXRhKCl7DQogICAgIHJldHVybnsNCiAgICAgIHRvdGFsUHJpY2U6IDAsDQogICAgICBmcmVpZ2h0OiAwLA0KICAgICAgRGVsdGltZWlkOiAwDQogICAgfQ0KICB9LA0KICBjcmVhdGVkKCkgeyAgDQogICAgLy8gY29uc29sZS5sb2codGhpcy5jaGVja2VkRGF0YVswXSkNCiAgICB0aGlzLmdldFNpdGVMaXN0KCkNCiAgICB0aGlzLmNhcnREYXRhLm1hcCgoaXRlbSwgaW5kZXgpID0+IHsNCiAgICAgIHRoaXMudG90YWxQcmljZSArPSBpdGVtLnByb2R1Y3RfUHJpY2UqaXRlbS5udW0NCiAgICB9KQ0KICAgIGlmKHRoaXMudG90YWxQcmljZT49ODgpew0KICAgICAgdGhpcy5mcmVpZ2h0ID0gMA0KICAgIH1lbHNlew0KICAgICAgdGhpcy5mcmVpZ2h0ID0gMTINCiAgICB9DQogIH0sDQogIG1ldGhvZHM6ew0KICAgIC4uLm1hcEFjdGlvbnMoWydnZXRTaXRlTGlzdCddKSwNCiAgICB0b2hvbWUoKXsNCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvaG9tZSIpDQogICAgfSwNCiAgICBpbmRleFNlbGVjdChldmVudCl7DQogICAgICB0aGlzLkRlbHRpbWVpZCA9IGV2ZW50LnRhcmdldC52YWx1ZQ0KICAgICAgLy8gY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LnZhbHVlKQ0KICAgIH0sDQogICAgdXBPcmRlcigpIHsNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmNhcnREYXRhKQ0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuY2FydFByb2R1Y3RzKQ0KICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmNhcnREYXRhLmxlbmd0aDtpKyspew0KICAgICAgICBmb3IobGV0IGo9dGhpcy5jYXJ0UHJvZHVjdHMubGVuZ3RoLTE7aj49MDtqLS0pew0KICAgICAgICAgIGlmKHRoaXMuY2FydERhdGFbaV0uaWQgPT0gdGhpcy5jYXJ0UHJvZHVjdHNbal0uaWQgJiZ0aGlzLmNhcnREYXRhW2ldLlRpdGxlMXZhbHVlID09IHRoaXMuY2FydFByb2R1Y3RzW2pdLlRpdGxlMXZhbHVlICYmIHRoaXMuY2FydERhdGFbaV0uVGl0bGUydmFsdWUgPT0gdGhpcy5jYXJ0UHJvZHVjdHNbal0uVGl0bGUydmFsdWUpew0KICAgICAgICAgICAgICB0aGlzLmNhcnRQcm9kdWN0cy5zcGxpY2UoaiwgMSkNCiAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgIH0NCiAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMuZGVmYXVsdFNpdGVbMF0pDQogICAgICBpZih0aGlzLmRlZmF1bHRTaXRlWzBdIT11bmRlZmluZWQpew0KICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3BheU9yZGVyIikNCiAgICAgICAgbGV0IG9yZGVyTGlzdCA9IFtdwqDCoMKgICAgICAgDQogICAgICAgIHRoaXMuY2FydERhdGEubWFwKChpdGVtLCBpbmRleCkgPT4gew0KICAgICAgICAgIG9yZGVyTGlzdC5wdXNoKHsNCiAgICAgICAgICAgICAgICBQSWQ6IMKgdGhpcy5jYXJ0RGF0YVtpbmRleF0uaWQsIC8vIOi0reS5sOeJqeWTgWlkDQogICAgICAgICAgICAgICAgUHJpY2U6IHRoaXMuY2FydERhdGFbaW5kZXhdLnByb2R1Y3RfUHJpY2UsIC8vIOWVhuWTgeS7t+agvA0KICAgICAgICAgICAgICAgIE51bTogwqB0aGlzLmNhcnREYXRhW2luZGV4XS5udW0sIC8vIOi0reS5sOWVhuWTgeaVsOmHjw0KICAgICAgICAgICAgICAgIFNjb3JlOiB0aGlzLmNhcnREYXRhW2luZGV4XS5TY29yZSwgLy8g6LSt5Lmw5ZWG5ZOB56ev5YiGDQogICAgICAgICAgICAgICAgSXNfSW52b2ljOiDCoDAsIC8vIOaYr+WQpuW8gOWFt+WPkeelqA0KICAgICAgICAgICAgICAgIEludm9pY19UeXBlOiDCoDEsLy8g5Y+R56Wo56eN57G7DQogICAgICAgICAgICAgICAgSVNfQ291cG9uOiDCoDAsIC8vIOaYr+WQpuS9v+eUqOS8mOaDoOWIuA0KICAgICAgICAgICAgICAgIENvdXBvbl9JZDogwqAwLCAvLyDkvJjmg6DliLhpZA0KICAgICAgICAgICAgICAgIElzX0dpZnQ6IMKgMCwgLy8g5piv5ZCm5L2/55So56S85ZOB5Y2hDQogICAgICAgICAgICAgICAgR2lmdF9JZDogwqAwLCAvLyDnpLzlk4HljaHkvb/nlKhpZA0KICAgICAgICAgICAgICAgIFNlbmRfVHlwZTogwqAxLCAvLyDphY3pgIHmlrnlvI8NCiAgICAgICAgICAgICAgICBQYXlfVHlwZV9JZDogwqB0aGlzLmNoZWNrZWREYXRhWzBdLnBheUlkLCAvLyDku5jmrL7mlrnlvI9pZA0KICAgICAgICAgICAgICAgIEFkZHJlc3NfSUQ6IMKgMSwgLy8g5pS26LSn5Zyw5Z2AaWQNCiAgICAgICAgICAgICAgICBOZXdfTmFtZTogwqAgdGhpcy5kZWZhdWx0U2l0ZVswXS5TX05hbWUsDQogICAgICAgICAgICAgICAgTmV3X1Byb3ZpbmNlOiDCoHRoaXMuZGVmYXVsdFNpdGVbMF0uUHJvdmluY2UswqDCoMKgwqDCoA0KICAgICAgICAgICAgICAgIE5ld19DaXR5OiDCoHRoaXMuZGVmYXVsdFNpdGVbMF0uQ2l0eSzCoMKgwqANCiAgICAgICAgICAgICAgICBOZXdfQXJlYTogwqB0aGlzLmRlZmF1bHRTaXRlWzBdLkFyZWEsDQogICAgICAgICAgICAgICAgTmV3X0FkZHJlc3M6IMKgdGhpcy5kZWZhdWx0U2l0ZVswXS5BZGRyZXNzLA0KICAgICAgICAgICAgICAgIE5ld19NYWlsOiDCoHRoaXMuZGVmYXVsdFNpdGVbMF0uTWFpbCzCoMKgwqANCiAgICAgICAgICAgICAgICBOZXdfUGhvbmU6IMKgdGhpcy5kZWZhdWx0U2l0ZVswXS5QaG9uZSzCoA0KICAgICAgICAgICAgICAgIE5ld19UZWw6IMKgdGhpcy5kZWZhdWx0U2l0ZVswXS5UZWwsDQogICAgICAgICAgICAgICAgRGVsdGltZTogwqB0aGlzLkRlbHRpbWVpZMKgwqDCoC8vIOmAgei0p+aXtumXtOenjeexu8KgwqANCiAgICAgICAgICAgIH0pDQogICAgICAgIH0pDQogICAgICBhZGRPcmRlcihvcmRlckxpc3QpDQogICAgICB9ZWxzZXsNCiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcign6K+36YCJ5oup5pS26LSn5Zyw5Z2AJyk7DQogICAgICB9DQogICAgfQ0KICB9LA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWydzaXRlTGlzdCcsJ2NhcnREYXRhJywnY2hlY2tlZERhdGEnLCdjYXJ0UHJvZHVjdHMnXSksDQogICAgZGVmYXVsdFNpdGU6IGZ1bmN0aW9uICgpIHsNCiAgICAgIHJldHVybiB0aGlzLnNpdGVMaXN0LmZpbHRlcihmdW5jdGlvbiAoc2l0ZUxpc3QpIHsNCiAgICAgICAgcmV0dXJuIHNpdGVMaXN0LklzX1RydWU9PTENCiAgICAgIH0pDQogICAgfSANCiAgfQ0KfQ0K"},{"version":3,"sources":["order.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"order.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n  <div class=\"order\">\r\n  <div class=\"jiantou\">\r\n    <img alt=\"大朴\" src=\"http://p2.dapuimg.com/themes/blue/images/images/icons/logo2015.png\" width=\"200\" height=\"50\" border=\"0\" @click=\"tohome\">\r\n    <ol>\r\n      <li class=\"step1\">1、我的购物车</li>\r\n\r\n      <li class=\"step2 on\">2、填写核对订单信息</li>\r\n      <li class=\"step3\">3、成功提交订单</li>\r\n\t  </ol>\r\n  </div>\r\n   <div class=\"address\">\r\n      <div class=\"th\">\r\n        <span>收货人信息</span>\r\n        <a href=\"\">修改</a>\r\n      </div>\r\n      <div v-for=\"item in defaultSite\" :key=\"item.id\"> \r\n        <p>\r\n          <label>收货人姓名：</label>\r\n          <span>{{item.S_Name}}</span>\r\n        </p>\r\n        <p>\r\n          <label>收货人地区：</label>\r\n          <span>{{item.Province+'-'+item.City+'-'+item.Area}}</span>\r\n        </p>\r\n        <P>\r\n          <label>收货人地址：</label>\r\n          <span>{{item.Address}}</span>\r\n        </P>\r\n        <P>\r\n          <label>邮编：</label>\r\n          <span>{{item.Mail}}</span>\r\n        </P>\r\n        <P>\r\n          <label>手机：</label>\r\n          <span>{{item.Phone}}</span>\r\n        </P>\r\n        <P>\r\n          <label>固定电话：</label>\r\n          <span>{{item.Tel}}</span>\r\n        </P>\r\n        <P>\r\n          <label>送货时间：</label>\r\n          <select @change=\"indexSelect($event)\" >\r\n            <option value=\"0\">工作日、双休日与假日均可送货</option>\r\n            <option value=\"1\">只工作日送货（双休日与假日不用送）</option>\r\n            <option value=\"2\">只双休日、假日送货（工作日不用送）</option>\r\n          </select>  \r\n        </P>\r\n      </div> \r\n    </div> \r\n      <div class=\"address\" style=\"margin-top:25px\">\r\n      <div class=\"th\" >\r\n        <span>配送及支付方式</span>\r\n        <router-link :to=\"{path:'/paybyway',query:{id:1}}\">修改</router-link>\r\n      </div>\r\n      <p>\r\n        <label>配送方式：</label>\r\n        <span>快递-{{checkedData[0].payway}}</span>\r\n      </p>\r\n      <p>\r\n        <label>付款方式：</label>\r\n        <span>网银-{{checkedData[0].whichway}}</span>\r\n      </p>\r\n    </div> \r\n    <div class=\"address\" style=\"margin-top:25px\">\r\n      <div class=\"th\" >\r\n        <span>商品清单</span>\r\n        <a href=\"\"> 返回修改购物车</a>\r\n      </div>\r\n      <div class=\"xiangqing\" v-if=\"cartData!=''\">\r\n         <el-table\r\n          :data=\"cartData\"\r\n          :header-cell-style=\"{fontSize:'14px',color:'#6b6b6b'}\"\r\n          style=\"width: 100%\">\r\n          <el-table-column\r\n            label=\"商品信息\">\r\n            <template slot-scope=\"scope\">\r\n              <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">\r\n                  <img :src=\"scope.row.img\" alt=\"\" style=\"float:left\">\r\n              </router-link>\r\n              <div class=\"detail\">\r\n                <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">{{scope.row.product_Name}}</router-link>\r\n                <p><span>{{scope.row.Title1+\" \"+scope.row.Title1value}}</span> <span v-if=\"scope.row.Title2!=''\">{{\"、\"+scope.row.Title2+\"\"+scope.row.Title2value}}</span></p>\r\n              </div>\r\n              \r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"商品单价\"\r\n            width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n                <span>¥{{scope.row.product_Price}}</span>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"商品数量\"\r\n            width=\"160\">\r\n            <template slot-scope=\"scope\">\r\n                <span>{{scope.row.num}}</span>\r\n            </template>    \r\n          </el-table-column>\r\n          <el-table-column\r\n            label=\"小计\"\r\n            width=\"140\">\r\n            <template slot-scope=\"scope\">\r\n                <span>¥{{scope.row.num*scope.row.product_Price}}</span>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n      </div>\r\n    </div> \r\n    <div class=\"address\" style=\"margin-top:25px;\">\r\n      <div class=\"th\" >\r\n        <span>结算信息</span>\r\n      </div>\r\n      <div style=\" height:200px\">\r\n      <div class=\"jiesuan\">\r\n        <div>\r\n          <input type=\"checkbox\"> \r\n          <span style=\"color:#2980B9\">使用优惠券</span>\r\n        </div>\r\n        <div>\r\n          <input type=\"checkbox\"> \r\n          <span style=\"font-size:13px\">支持礼品卡支付</span>\r\n        </div>\r\n        <div> \r\n          <span style=\"color:#2980B9\">订单备注：</span>\r\n           <input>\r\n        </div>\r\n      </div>\r\n       <div class=\"two\">\r\n          <div style=\"height:40px\"></div>\r\n          <div>\r\n            <label>商品金额</label>\r\n            <span>¥{{totalPrice}}</span>\r\n          </div>\r\n          <div style=\"border-bottom:1px solid black\">\r\n            <label>配送金额</label>\r\n            <span>+¥{{freight}}</span>\r\n          </div>\r\n          <div style=\"padding-top:20px;color:red;font-size:20px;text-align:right;margin-bottom：10px\">\r\n             <label>应付金额：</label>\r\n            <span style=\"margin-left:0;margin-right:50px\">¥{{totalPrice+freight}}元</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <button class=\"btn\" @click=\"upOrder\">提交订单</button>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport { addOrder } from '@/network/order'\r\nexport default {\r\n  name: 'order',\r\n  data(){\r\n     return{\r\n      totalPrice: 0,\r\n      freight: 0,\r\n      Deltimeid: 0\r\n    }\r\n  },\r\n  created() {  \r\n    // console.log(this.checkedData[0])\r\n    this.getSiteList()\r\n    this.cartData.map((item, index) => {\r\n      this.totalPrice += item.product_Price*item.num\r\n    })\r\n    if(this.totalPrice>=88){\r\n      this.freight = 0\r\n    }else{\r\n      this.freight = 12\r\n    }\r\n  },\r\n  methods:{\r\n    ...mapActions(['getSiteList']),\r\n    tohome(){\r\n      this.$router.push(\"/home\")\r\n    },\r\n    indexSelect(event){\r\n      this.Deltimeid = event.target.value\r\n      // console.log(event.target.value)\r\n    },\r\n    upOrder() {\r\n          // console.log(this.cartData)\r\n          // console.log(this.cartProducts)\r\n      for(let i=0;i<this.cartData.length;i++){\r\n        for(let j=this.cartProducts.length-1;j>=0;j--){\r\n          if(this.cartData[i].id == this.cartProducts[j].id &&this.cartData[i].Title1value == this.cartProducts[j].Title1value && this.cartData[i].Title2value == this.cartProducts[j].Title2value){\r\n              this.cartProducts.splice(j, 1)\r\n          }\r\n        }\r\n      }\r\n      // console.log(this.defaultSite[0])\r\n      if(this.defaultSite[0]!=undefined){\r\n        this.$router.push(\"/payOrder\")\r\n        let orderList = []         \r\n        this.cartData.map((item, index) => {\r\n          orderList.push({\r\n                PId:  this.cartData[index].id, // 购买物品id\r\n                Price: this.cartData[index].product_Price, // 商品价格\r\n                Num:  this.cartData[index].num, // 购买商品数量\r\n                Score: this.cartData[index].Score, // 购买商品积分\r\n                Is_Invoic:  0, // 是否开具发票\r\n                Invoic_Type:  1,// 发票种类\r\n                IS_Coupon:  0, // 是否使用优惠券\r\n                Coupon_Id:  0, // 优惠券id\r\n                Is_Gift:  0, // 是否使用礼品卡\r\n                Gift_Id:  0, // 礼品卡使用id\r\n                Send_Type:  1, // 配送方式\r\n                Pay_Type_Id:  this.checkedData[0].payId, // 付款方式id\r\n                Address_ID:  1, // 收货地址id\r\n                New_Name:   this.defaultSite[0].S_Name,\r\n                New_Province:  this.defaultSite[0].Province,     \r\n                New_City:  this.defaultSite[0].City,   \r\n                New_Area:  this.defaultSite[0].Area,\r\n                New_Address:  this.defaultSite[0].Address,\r\n                New_Mail:  this.defaultSite[0].Mail,   \r\n                New_Phone:  this.defaultSite[0].Phone, \r\n                New_Tel:  this.defaultSite[0].Tel,\r\n                Deltime:  this.Deltimeid   // 送货时间种类  \r\n            })\r\n        })\r\n      addOrder(orderList)\r\n      }else{\r\n        this.$message.error('请选择收货地址');\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['siteList','cartData','checkedData','cartProducts']),\r\n    defaultSite: function () {\r\n      return this.siteList.filter(function (siteList) {\r\n        return siteList.Is_True==1\r\n      })\r\n    } \r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"~assets/css/cart/order.scss\";\r\n</style>"]}]}