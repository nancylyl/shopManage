{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\payOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\payOrder.vue","mtime":1595004929427},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7DQppbXBvcnQgeyBnZXRjYXJ0bGlzdCB9IGZyb20gIkAvbmV0d29yay9vcmRlciI7DQppbXBvcnQgeyBnZXRQYXlPZGVyLCBhZGRQYXlPZGVyIH0gZnJvbSAiQC9uZXR3b3JrL3BheU9yZGVyIjsNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogInBheU9yZGVyIiwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgcGF5b3JkZXI6IFtdLA0KICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLA0KICAgICAgZGlzY291bnR0czogMCwNCiAgICAgIHRvdGFsUHJpY2U6IDAsDQogICAgICBwYXlkYXRlOiBuZXcgRGF0ZSgpLA0KICAgICAgYWxsUHJpY2U6IDANCiAgICB9Ow0KICB9LA0KDQogIGNvbXBvbmVudHM6IHt9LA0KICBmaWx0ZXJzOiB7DQogICAgZm9ybWF0RGF0ZVRpbWUodmFsdWUpIHsNCiAgICAgIGxldCBkYXRlID0gbmV3IERhdGUodmFsdWUpOw0KICAgICAgbGV0IHkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7DQogICAgICBsZXQgTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxOw0KICAgICAgTU0gPSBNTSA8IDEwID8gIjAiICsgTU0gOiBNTTsNCiAgICAgIGxldCBkID0gZGF0ZS5nZXREYXRlKCk7DQogICAgICBkID0gZCA8IDEwID8gIjAiICsgZCA6IGQ7DQogICAgICBkICs9IDE7DQogICAgICBsZXQgaCA9IGRhdGUuZ2V0SG91cnMoKTsNCiAgICAgIGggPSBoIDwgMTAgPyAiMCIgKyBoIDogaDsNCiAgICAgIGxldCBtID0gZGF0ZS5nZXRNaW51dGVzKCk7DQogICAgICBtID0gbSA8IDEwID8gIjAiICsgbSA6IG07DQogICAgICBsZXQgcyA9IGRhdGUuZ2V0U2Vjb25kcygpOw0KICAgICAgcyA9IHMgPCAxMCA/ICIwIiArIHMgOiBzOw0KICAgICAgcmV0dXJuIHkgKyAiLSIgKyBNTSArICItIiArIGQgKyAiICIgKyBoICsgIjoiICsgbSArICI6IiArIHM7DQogICAgfQ0KICB9LA0KICBiZWZvckNyZWF0ZSgpIHsNCg0KICB9LA0KICBjcmVhdGVkKCkgew0KICAgIHRoaXMuZ2V0UGF5T2RlcigpOw0KICAgIC8vIHRoaXMuYWxsUHJpY2UNCiAgICB0aGlzLmNhcnREYXRhLm1hcCgoaXRlbSxpbmRleCk9PnsNCiAgICAgIHRoaXMuYWxsUHJpY2UgKz0gaXRlbS5udW0qaXRlbS5wcm9kdWN0X1ByaWNlDQogICAgfSkNCiAgICBjb25zb2xlLmxvZyh0aGlzLmFsbFByaWNlKTsNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHJvd2NsYXNzKCkgew0KICAgICAgcmV0dXJuICJjb2xvcjpibGFjaztmb250LXNpemU6MTRweDtib3JkZXI6MXB4IHNvbGlkICNEREREREQ7IjsNCiAgICB9LA0KICAgIGNlbGxzdHlsZSgpIHsNCiAgICAgIHJldHVybiAiYm9yZGVyOjFweCBzb2xpZCAjREREREREO2ZvbnQtc2l6ZToxM3B4IjsNCiAgICB9LA0KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsNCiAgICAgIHRoaXMubXVsdGlwbGVTZWxlY3Rpb24gPSB2YWw7DQogICAgfSwNCiAgICBnZXRQYXlPZGVyKCkgew0KICAgICAgZ2V0UGF5T2RlcigpLnRoZW4ocmVzID0+IHsNCiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsNCiAgICAgICAgdGhpcy5wYXlvcmRlciA9IHJlcy5kYXRhLmRhdGFbMV07DQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucGF5b3JkZXIpOw0KICAgICAgfSk7DQogICAgfSwNCiAgICBhZGRQYXlPZGVyKCkgew0KICAgICAgYWRkUGF5T2Rlcih0aGlzLnBheW9yZGVyWzBdLk9yZGVyTnVtKS50aGVuKHJlcyA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKHJlcy5kYXRhLnN1Y2Nlc3MpOw0KICAgICAgICBpZiAocmVzLmRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7DQogICAgICAgICAgdGhpcy4kbWVzc2FnZSgi5pSv5LuY5oiQ5YqfIik7DQogICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7DQogICAgICAgICAgICAgIHBhdGg6IGAvaG9tZWANCiAgICAgICAgICAgIH0pOw0KICAgICAgICAgIH0sIDIwMCk7DQogICAgICAgIH0NCiAgICAgIH0pOw0KICAgIH0NCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICAuLi5tYXBHZXR0ZXJzKFsiY2hlY2tlZERhdGEiLCAiY2FydERhdGEiXSkNCiAgfQ0KfTsNCg=="},{"version":3,"sources":["payOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"payOrder.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n  <div class=\"all\">\r\n    <div class=\"tittle\">\r\n      <img\r\n        src=\"http://s.dapuimg.com/public/dapu/images/icons/logo.png\"\r\n        alt=\"大朴网\"\r\n        width=\"245\"\r\n        height=\"49\"\r\n        border=\"0\"\r\n      />\r\n      <p>无甲醛棉品，始于大朴</p>\r\n    </div>\r\n    <div class=\"box\">\r\n      <div class=\"hd\">\r\n        <span>订单信息</span>\r\n      </div>\r\n      <div style=\"display:flex;padding:20px;height:auto\">\r\n        <div>\r\n          <img\r\n            alt=\"大朴\"\r\n            src=\"https://activity.dapuimg.com/qrcode_for_gh_19ea3aa21889_860.jpg\"\r\n            style=\"width:350px\"\r\n          />\r\n          <p>[扫一扫]关注大朴官方微信，随时获取订单信息</p>\r\n        </div>\r\n        <div style=\"border-left:1px solid;padding-left:20px;\" v-if=\"this.payorder!=''\">\r\n          <table style=\"font-size:14px\">\r\n            <tr>\r\n              <td>\r\n                <span>订单编号：{{this.payorder[0].OrderNum}}</span>\r\n              </td>\r\n            </tr>\r\n            <tr>\r\n              <td>应付金额：¥{{allPrice}}</td>\r\n            </tr>\r\n            <tr>\r\n              <td>应付期限：{{paydate | formatDateTime}}</td>\r\n              <span style=\"color:red;margin-left:-70px\">（请您在24小时内完成支付，否则订单会被自动取消)</span>\r\n            </tr>\r\n          </table>\r\n          <el-table\r\n            :data=\"cartData\"\r\n            style=\"width: 100%\"\r\n            :header-cell-style=\"rowclass\"\r\n            :cell-style=\"cellstyle\">\r\n            <el-table-column prop=\"date\" label=\"商品信息\" width=\"300\">\r\n              <template slot-scope=\"scope\">\r\n                <router-link\r\n                  :to=\"{ path: '/productdetails/' + scope.row.id }\"\r\n                  style=\"color:#0088CC;\"\r\n                >{{scope.row.product_Name}}</router-link>\r\n                <p>{{scope.row.Title1+''+scope.row.Title1value+'、'+scope.row.Title2+scope.row.Title2value}}</p>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"name\" label=\"商品单价\" width=\"120\">\r\n              <template slot-scope=\"scope\">¥{{ scope.row.product_Price}}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"address\" label=\"商品数量\" width=\"100\">\r\n              <template slot-scope=\"scope\">{{ scope.row.num}}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"address\" label=\"小计\" width=\"100\">\r\n              <template slot-scope=\"scope\">\r\n                ¥\r\n                <span class=\"itemprice\">{{scope.row.num*scope.row.product_Price}}</span>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n          <div class=\"onep\">\r\n            <p style=\"color:#C09853\">\r\n              <span>\r\n                支付方式：\r\n                <span style=\"color:red\">【{{checkedData[0].whichway}}】</span>\r\n              </span>\r\n              <span>还差一步，请立即支付</span>\r\n              <el-button type=\"danger\" style=\"margin-left:10px\" @click=\"addPayOder\">去付款</el-button>\r\n              <router-link :to=\"{path:'/paybyway',query:{id:2}}\" style=\"margin-left:10px\">\r\n                <span style=\"color:red\">[ 更换支付方式 ]</span>\r\n              </router-link>\r\n            </p>\r\n          </div>\r\n          <div class=\"twop\">\r\n            <p>物流人员送货上门时，请注意查验签收货物</p>\r\n            <p>如果订单的含有赠送的优惠券将在订单完成时赠送</p>\r\n            <p>\r\n              您现在可以：\r\n              <router-link to=\"/PerCenter\" style=\"color:#4E8FC2\">查看订单</router-link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"bottombox\">\r\n        <p>提示：</p>\r\n        <p>1.\"订单提交\"仅代表大朴网已经收到了您提交的订单，只有您的订单通过了确认审核之后，我们双方的订购合同才算成立。</p>\r\n        <p>2.当日16:00以后的的订单，作为次日订单处理，请您原谅。如果您的订单不能正常发货，我们将在24小时内与您联系。</p>\r\n        <p>3.大朴收到您的订单后，将针对订单进行审核，如果审核发现订单异常，或有其他大朴无法出货给您的情况，如商品缺货，配送超区等，将通知您考虑取消订单，届时请予原谅。</p>\r\n        <p class=\"pp\">4.物流上门时，请您务必当面对照发货单核对商品，如果出现商品缺少、配送错误、包装破损问题或质量问题等，请直接联系大朴网，以保证为您及时解决！</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { mapGetters } from \"vuex\";\r\nimport { getcartlist } from \"@/network/order\";\r\nimport { getPayOder, addPayOder } from \"@/network/payOrder\";\r\nexport default {\r\n  name: \"payOrder\",\r\n  data() {\r\n    return {\r\n      payorder: [],\r\n      multipleSelection: [],\r\n      discountts: 0,\r\n      totalPrice: 0,\r\n      paydate: new Date(),\r\n      allPrice: 0\r\n    };\r\n  },\r\n\r\n  components: {},\r\n  filters: {\r\n    formatDateTime(value) {\r\n      let date = new Date(value);\r\n      let y = date.getFullYear();\r\n      let MM = date.getMonth() + 1;\r\n      MM = MM < 10 ? \"0\" + MM : MM;\r\n      let d = date.getDate();\r\n      d = d < 10 ? \"0\" + d : d;\r\n      d += 1;\r\n      let h = date.getHours();\r\n      h = h < 10 ? \"0\" + h : h;\r\n      let m = date.getMinutes();\r\n      m = m < 10 ? \"0\" + m : m;\r\n      let s = date.getSeconds();\r\n      s = s < 10 ? \"0\" + s : s;\r\n      return y + \"-\" + MM + \"-\" + d + \" \" + h + \":\" + m + \":\" + s;\r\n    }\r\n  },\r\n  beforCreate() {\r\n\r\n  },\r\n  created() {\r\n    this.getPayOder();\r\n    // this.allPrice\r\n    this.cartData.map((item,index)=>{\r\n      this.allPrice += item.num*item.product_Price\r\n    })\r\n    console.log(this.allPrice);\r\n  },\r\n  methods: {\r\n    rowclass() {\r\n      return \"color:black;font-size:14px;border:1px solid #DDDDDD;\";\r\n    },\r\n    cellstyle() {\r\n      return \"border:1px solid #DDDDDD;font-size:13px\";\r\n    },\r\n    handleSelectionChange(val) {\r\n      this.multipleSelection = val;\r\n    },\r\n    getPayOder() {\r\n      getPayOder().then(res => {\r\n        // console.log(res);\r\n        this.payorder = res.data.data[1];\r\n        // console.log(this.payorder);\r\n      });\r\n    },\r\n    addPayOder() {\r\n      addPayOder(this.payorder[0].OrderNum).then(res => {\r\n        console.log(res.data.success);\r\n        if (res.data.success == true) {\r\n          this.$message(\"支付成功\");\r\n          setTimeout(() => {\r\n            this.$router.push({\r\n              path: `/home`\r\n            });\r\n          }, 200);\r\n        }\r\n      });\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters([\"checkedData\", \"cartData\"])\r\n  }\r\n};\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"~assets/css/cart/payOrder.scss\";\r\n</style>"]}]}