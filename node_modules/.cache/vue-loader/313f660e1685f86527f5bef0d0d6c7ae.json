{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\productshow.vue?vue&type=style&index=0&id=3318def6&scoped=true&lang=scss&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\productshow.vue","mtime":1595004929431},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQpAaW1wb3J0ICd+YXNzZXRzL2Nzcy9wcm9kdWN0c2hvdy9saWZlLnNjc3MnOw0K"},{"version":3,"sources":["productshow.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwIA","file":"productshow.vue","sourceRoot":"src/components/content","sourcesContent":["<template>\r\n  <div class=\"lifeapp\" v-if=\"$store.state.showbox.showlist.length>0&& this.listpro!=null\">\r\n    <div class=\"sort\">\r\n      <ul>\r\n        <li style=\"font-weight:bold;text-decoration:none;cursor: unset\">排序方式：</li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(1)\">最新</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(2)\">销量</a>\r\n        </li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(3)\">价格</a>\r\n\r\n          <span class=\"icon iconfont\">&#xe6db;</span>\r\n        </li>\r\n        <li>\r\n          <a href=\"javascript:;\" @click=\"sort(4)\">价格</a>\r\n          <span class=\"icon iconfont\">&#xe6da;</span>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <ul class=\"products\" v-if=\"listpro.length>0\">\r\n      <li v-for=\"item in listpro\" :key=\"item.id\">\r\n        <showbox\r\n          :imgSrc=\"item.children\"\r\n          :price=\"item.Price\"\r\n          :tittle=\"item.Pro_Name\"\r\n          :Pro_Id=\"item.Pro_Id\"\r\n        ></showbox>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import { formatNum } from '../../toolkit'\r\nimport { mapGetters, mapActions } from 'vuex'\r\nimport breadcrumbVue from '@/components/content/breadcrumb'\r\nimport showbox from './showbox'\r\nexport default {\r\n  name: 'lifeapp',\r\n  data() {\r\n    return {\r\n      listpro: [],\r\n      type: '',\r\n      oldorderzx: '',\r\n      oldoderxl: ''\r\n      // key: ''\r\n    }\r\n  },\r\n  props: ['productType'],\r\n  components: {\r\n    breadcrumbVue,\r\n    showbox\r\n  },\r\n  created: async function() {\r\n    //this.key = this.key\r\n    let isture = await this.getprolist()\r\n    if (isture) {\r\n      this.listpro = this.showlist\r\n    }\r\n  },\r\n  mounted() {},\r\n  methods: {\r\n    ...mapActions(['getshowlist']),\r\n\r\n    getprolist: function() {\r\n      return new Promise(async (resolve, reject) => {\r\n        let data = {\r\n          PageCount: 100,\r\n          CurrentPage: 1,\r\n          key: this.key,\r\n          // P_Type_Menu_Id: this.productType\r\n          P_Type_Menu_Id: this.$store.state.shopmenustore.navbar\r\n        }\r\n        await this.getshowlist(data)\r\n        resolve(true)\r\n      })\r\n    },\r\n    sort(state) {\r\n      //  console.log('33')\r\n      if (state == 1) {\r\n        if (this.oldorderzx == 'desc') {\r\n          this.oldorderzx = 'asc'\r\n        } else {\r\n          this.oldorderzx = 'desc'\r\n        }\r\n        this.sortData('CreateDate', this.oldorder)\r\n      } else if (state == 2) {\r\n        if (this.oldoderxl == 'desc') {\r\n          this.oldoderxl = 'asc'\r\n        } else {\r\n          this.oldoderxl = 'desc'\r\n        }\r\n        this.sortData('Pro_NewCount', this.oldoderxl)\r\n      } else if (state == 3) {\r\n        this.sortData('Price', 'asc')\r\n      } else if (state == 4) {\r\n        this.sortData('Price', 'desc')\r\n      }\r\n    },\r\n    sortData(key, order) {\r\n      return this.listpro.sort(function(a, b) {\r\n        // console.log(a)\r\n\r\n        var x = a[key]\r\n        var y = b[key]\r\n        let last\r\n        if (order == 'asc') {\r\n          last = x < y ? -1 : x > y ? 1 : 0\r\n        } else {\r\n          last = y < x ? -1 : y > x ? 1 : 0\r\n        }\r\n        return last\r\n      })\r\n    }\r\n  },\r\n  computed: {\r\n    ...mapGetters(['showlist', 'key'])\r\n  },\r\n\r\n  watch: {\r\n    '$store.state.showbox.key': async function() {\r\n      //监听vuex中userName变化而改变header里面的值\r\n      console.log(this.key)\r\n      let isture = await this.getprolist()\r\n      if (isture) {\r\n        this.listpro = this.showlist\r\n      }\r\n      // console.log(this.showlist)\r\n    }\r\n  }\r\n}\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import '~assets/css/productshow/life.scss';\r\n</style>"]}]}