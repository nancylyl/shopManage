{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\cart.vue","mtime":1595071449993},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRTovXHU1QjY2XHU0RTYwXHU4QkIwXHU1RjU1L1x1NEY1Q1x1NEUxQS9cdTU2REJcdTk2MzZcdTZCQjUvXHU1NkRCXHU5NjM2XHU2QkI1XHU5ODc5XHU3NkVFL3Nob3BNYW5hZ2Uvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBBY3Rpb25zLCBtYXBHZXR0ZXJzIH0gZnJvbSAndnVleCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY2FydCcsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG11bHRpcGxlU2VsZWN0aW9uOiBbXSwKICAgICAgZGlzY291bnR0czogMCwKICAgICAgdG90YWxQcmljZTogMCwKICAgICAgaXNzaG93OiAiIiwKICAgICAgZGlzYWJsZTogdHJ1ZQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLiR3YXRjaCgidG90YWxQcmljZSIsIGZ1bmN0aW9uIChuZXdWYWx1ZSwgb2xkVmFsdWUpIHsKICAgICAgaWYgKG5ld1ZhbHVlID49IDg4KSB7CiAgICAgICAgdGhpcy5pc3Nob3cgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaXNzaG93ID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbWV0aG9kczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBBY3Rpb25zKFsnZGVsUHJvZHVjdCcsICdkZWxBbGwnLCAnc3VibWl0T3JkZXInXSkpLCB7fSwgewogICAgdG9PcmRlcjogZnVuY3Rpb24gdG9PcmRlcih2YWx1ZSkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL29yZGVyIik7CiAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJzdWJtaXRPcmRlciIsIHZhbHVlKTsKICAgIH0sCiAgICB0b2hvbWU6IGZ1bmN0aW9uIHRvaG9tZSgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9ob21lIik7CiAgICB9LAogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UodmFsKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uID0gdmFsOwogICAgICB2YXIgcmVzZGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5tdWx0aXBsZVNlbGVjdGlvbikpOyAvLyBjb25zb2xlLmxvZyhyZXNkYXRhKQoKICAgICAgaWYgKHJlc2RhdGEgPT0gJycpIHsKICAgICAgICB0aGlzLmRpc2FibGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlzYWJsZSA9IGZhbHNlOwogICAgICB9CgogICAgICB0aGlzLnRvdGFsUHJpY2UgPSAwOwogICAgICByZXNkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICBfdGhpcy50b3RhbFByaWNlICs9IGl0ZW0ucHJvZHVjdF9QcmljZSAqIGl0ZW0ubnVtOwogICAgICB9KTsKICAgIH0sCiAgICAvLyBvblRhYmxlU2VsZWN0KHJvd3MsIHJvdykgewogICAgLy8gICAgIGxldCBzZWxlY3RlZCA9IHJvd3MubGVuZ3RoICYmIHJvd3MuaW5kZXhPZihyb3cpICE9PSAtMQogICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHNlbGVjdGVkKSAgLy8gdHJ1ZeWwseaYr+mAieS4re+8jDDmiJbogIVmYWxzZeaYr+WPlua2iOmAieS4rQogICAgLy8gICAgIGlmKHNlbGVjdGVkKXsKICAgIC8vICAgICAgICAgdGhpcy50b3RhbFByaWNlICs9IHJvdy5wcm9kdWN0X1ByaWNlKnJvdy5udW0KICAgIC8vICAgICB9ZWxzZXsKICAgIC8vICAgICAgICAgdGhpcy50b3RhbFByaWNlIC09IHJvdy5wcm9kdWN0X1ByaWNlKnJvdy5udW0KICAgIC8vICAgICB9CiAgICAvLyB9LAogICAgLy8gc2VsZWN0QWxsKHNlbGVjdGlvbil7CiAgICAvLyAgICAgbGV0IHNlbGVjdGVkID0gc2VsZWN0aW9uLmxlbmd0aAogICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHNlbGVjdGlvbikKICAgIC8vICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3RlZCkKICAgIC8vICAgICBpZihzZWxlY3RlZCAhPSAwKXsKICAgIC8vICAgICAgICAgdGhpcy50b3RhbFByaWNlID0gMAogICAgLy8gICAgIHNlbGVjdGlvbi5tYXAoKGl0ZW0saW5kZXgpPT57ICAgICAgCiAgICAvLyAgICAgICAgIHRoaXMudG90YWxQcmljZSArPSBpdGVtLnByb2R1Y3RfUHJpY2UqaXRlbS5udW0KICAgIC8vICAgICB9KQogICAgLy8gICAgIH1lbHNlewogICAgLy8gICAgICAgICB0aGlzLnRvdGFsUHJpY2UgPSAwCiAgICAvLyAgICAgfQogICAgLy8gfSwKICAgIGlzQ2hhbmc6IGZ1bmN0aW9uIGlzQ2hhbmcoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdGhpcy50b3RhbFByaWNlID0gMDsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgICAgLy8gY29uc29sZS5sb2coaXRlbSkgICAgCiAgICAgICAgX3RoaXMyLnRvdGFsUHJpY2UgKz0gaXRlbS5wcm9kdWN0X1ByaWNlICogaXRlbS5udW07CiAgICAgIH0pOwogICAgfQogIH0pLAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnY2FydFByb2R1Y3RzJywgJ2NhcnREYXRhJ10pKQp9Ow=="},{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,CAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,MAAA,CAAA,YAAA,EAAA,UAAA,QAAA,EAAA,QAAA,EAAA;AACA,UAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,MAAA,GAAA,KAAA;AACA;AACA,KANA;AAOA,GAnBA;AAoBA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,YAAA,EAAA,QAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,OAFA,mBAEA,KAFA,EAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA;AACA,KALA;AAMA,IAAA,MANA,oBAMA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KARA;AASA,IAAA,qBATA,iCASA,GATA,EASA;AAAA;;AACA,WAAA,iBAAA,GAAA,GAAA;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,KAAA,iBAAA,CAAA,CAAA,CAFA,CAGA;;AACA,UAAA,OAAA,IAAA,EAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;;AACA,WAAA,UAAA,GAAA,CAAA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,QAAA,KAAA,CAAA,UAAA,IAAA,IAAA,CAAA,aAAA,GAAA,IAAA,CAAA,GAAA;AACA,OAFA;AAGA,KAtBA;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAA,OA9CA,qBA8CA;AAAA;;AACA,WAAA,UAAA,GAAA,CAAA;AACA,WAAA,iBAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,UAAA,IAAA,IAAA,CAAA,aAAA,GAAA,IAAA,CAAA,GAAA;AACA,OAHA;AAIA;AApDA,IApBA;AA0EA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,cAAA,EAAA,UAAA,CAAA,CADA;AA1EA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n        <img class=\"logo\" src=\"http://activity.dapuimg.com/2019082001logo.png\" alt=\"大朴网\" @click=\"tohome\">       \r\n        <div v-if=\"cartProducts == ''\" class=\"empty\">\r\n            <span style=\"font-size: 40px; \">您的购物车还是空的</span>\r\n            <div class=\"goBuy\">\r\n                <el-button type=\"info\" @click=\"tohome\">马上去购物</el-button>\r\n            </div>  \r\n        </div>\r\n        <div v-if=\"cartProducts != ''\">   \r\n            <div class=\"tittle\">\r\n                <strong style=\"float:left\">我的购物车</strong>\r\n                <strong class=\"fRight\" @click=\"delAll\">清空购物车</strong>\r\n            </div>\r\n            <el-table\r\n                :header-cell-style=\"{textAlign:'center',color:'#555'}\"\r\n                :cell-style=\"{textAlign:'center',color:'#555'}\"\r\n                ref=\"multipleTable\"\r\n                :data=\"cartProducts\"\r\n                border\r\n                style=\"width: 85%; margin:0 auto;\"\r\n                tooltip-effect=\"dark\" \r\n                @select='onTableSelect'\r\n                @select-all=\"selectAll\"\r\n                @selection-change=\"handleSelectionChange\">\r\n                    <el-table-column\r\n                    type=\"selection\"\r\n                    width=\"70\">\r\n                    </el-table-column>  \r\n                    <el-table-column\r\n                    label=\"商品信息\" >\r\n                        <template slot-scope=\"scope\">\r\n                            <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">\r\n                                <img :src=\"scope.row.img\" alt=\"\" style=\"float:left\">\r\n                            </router-link>\r\n                            <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">{{scope.row.product_Name}}</router-link>\r\n                            <p><span>{{scope.row.Title1+\" \"+scope.row.Title1value}}</span> <span v-if=\"scope.row.Title2!=''\">{{\"、\"+scope.row.Title2+\"\"+scope.row.Title2value}}</span></p>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    label=\"商品单价\"\r\n                    width=\"140\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span>¥{{scope.row.product_Price}}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    \r\n                    label=\"商品数量\"\r\n                    width=\"200\"\r\n                    show-overflow-tooltip>\r\n                        <template slot-scope=\"scope\">\r\n                            <el-input-number size=\"mini\" v-model=\"scope.row.num\" :min=\"1\" :max=\"scope.row.stock\" @change=\"isChang()\"></el-input-number>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    label=\"小计\"\r\n                    width=\"140\"\r\n                    show-overflow-tooltip>\r\n                        <template slot-scope=\"scope\">\r\n                            <span>¥{{scope.row.num*scope.row.product_Price}}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    fixed=\"right\"\r\n                    label=\"操作\"\r\n                    width=\"140\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button  type=\"danger\" @click=\"delProduct(scope.row,)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n            </el-table>\r\n            <div class=\"down\" v-show=\"isshow\">\r\n                <h3>已享受到的促销优惠：</h3>\r\n                <p>满88包邮</p>\r\n            </div>\r\n            <div class=\"mydown\" v-if=\"cartProducts != ''\">\r\n                <div>   \r\n                    <p>原始金额：¥{{totalPrice}}</p>\r\n                </div>\r\n                <div>\r\n                    <p style=\"color:red\">优惠金额：¥{{discountts}}</p>\r\n                </div>\r\n                <div>\r\n                    <p style=\"font-weight:700\">商品总金额(不含运费)：¥{{totalPrice-discountts}}</p>\r\n                </div>\r\n                <div class=\"mybutton\">\r\n                    <el-button type=\"info\" @click=\"tohome\">继续购物</el-button>\r\n                    <el-button :disabled=\"disable\" type=\"danger\" @click=\"toOrder(multipleSelection)\">去结算</el-button>\r\n                </div>\r\n            </div>\r\n        </div>      \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import  {mapActions,mapGetters} from 'vuex'\r\n    export default {\r\n        name: 'cart',\r\n        data(){\r\n            return{\r\n                multipleSelection: [],\r\n                discountts: 0,\r\n                totalPrice: 0,\r\n                isshow:\"\",\r\n                disable: true\r\n            }\r\n        },\r\n        created() {\r\n            this.$watch(\"totalPrice\", function (newValue, oldValue) {\r\n                if(newValue >= 88) {\r\n                    this.isshow = true\r\n                }else{\r\n                    this.isshow = false\r\n                }\r\n            })\r\n        },\r\n        methods:{\r\n            ...mapActions(['delProduct','delAll','submitOrder']),\r\n            toOrder(value) {\r\n                this.$router.push(\"/order\");             \r\n                this.$store.dispatch(\"submitOrder\",value) \r\n            },\r\n            tohome(){\r\n                this.$router.push(\"/home\")\r\n            },\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = val   \r\n                let resdata=JSON.parse(JSON.stringify(this.multipleSelection));    \r\n                // console.log(resdata)\r\n                if(resdata == ''){\r\n                    this.disable = true\r\n                } else {\r\n                    this.disable = false\r\n                }\r\n                this.totalPrice = 0;\r\n                resdata.map((item,index)=>{      \r\n                    this.totalPrice += item.product_Price*item.num\r\n                })\r\n            },\r\n            // onTableSelect(rows, row) {\r\n            //     let selected = rows.length && rows.indexOf(row) !== -1\r\n            //     // console.log(selected)  // true就是选中，0或者false是取消选中\r\n            //     if(selected){\r\n            //         this.totalPrice += row.product_Price*row.num\r\n            //     }else{\r\n            //         this.totalPrice -= row.product_Price*row.num\r\n            //     }\r\n                \r\n            // },\r\n            // selectAll(selection){\r\n            //     let selected = selection.length\r\n            //     // console.log(selection)\r\n            //     // console.log(selected)\r\n            //     if(selected != 0){\r\n            //         this.totalPrice = 0\r\n            //     selection.map((item,index)=>{      \r\n            //         this.totalPrice += item.product_Price*item.num\r\n            //     })\r\n            //     }else{\r\n            //         this.totalPrice = 0\r\n            //     }\r\n            // },\r\n            isChang() {\r\n                this.totalPrice = 0\r\n                this.multipleSelection.map((item,index)=>{ \r\n                        // console.log(item)    \r\n                this.totalPrice += item.product_Price*item.num\r\n                })\r\n                }\r\n            },\r\n        computed:{\r\n            ...mapGetters(['cartProducts','cartData'])   \r\n\r\n        },\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"~assets/css/cart/cart.scss\";\r\n</style>"],"sourceRoot":"src/components/content"}]}