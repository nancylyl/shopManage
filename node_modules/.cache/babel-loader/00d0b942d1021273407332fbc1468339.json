{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\cart.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\components\\content\\cart.vue","mtime":1595065585717},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJFOi9cdTVCNjZcdTRFNjBcdThCQjBcdTVGNTUvXHU0RjVDXHU0RTFBL1x1NTZEQlx1OTYzNlx1NkJCNS9cdTU2REJcdTk2MzZcdTZCQjVcdTk4NzlcdTc2RUUvc2hvcE1hbmFnZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCB7IG1hcEFjdGlvbnMsIG1hcEdldHRlcnMgfSBmcm9tICd2dWV4JzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdjYXJ0JywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbXVsdGlwbGVTZWxlY3Rpb246IFtdLAogICAgICBkaXNjb3VudHRzOiAwLAogICAgICB0b3RhbFByaWNlOiAwLAogICAgICBpc3Nob3c6ICIiLAogICAgICBkaXNhYmxlOiB0cnVlCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuJHdhdGNoKCJ0b3RhbFByaWNlIiwgZnVuY3Rpb24gKG5ld1ZhbHVlLCBvbGRWYWx1ZSkgewogICAgICBpZiAobmV3VmFsdWUgPj0gODgpIHsKICAgICAgICB0aGlzLmlzc2hvdyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5pc3Nob3cgPSBmYWxzZTsKICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIG1hcEFjdGlvbnMoWydkZWxQcm9kdWN0JywgJ2RlbEFsbCcsICdzdWJtaXRPcmRlciddKSksIHt9LCB7CiAgICB0b09yZGVyOiBmdW5jdGlvbiB0b09yZGVyKHZhbHVlKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvb3JkZXIiKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInN1Ym1pdE9yZGVyIiwgdmFsdWUpOwogICAgfSwKICAgIHRvaG9tZTogZnVuY3Rpb24gdG9ob21lKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL2hvbWUiKTsKICAgIH0sCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZSh2YWwpIHsKICAgICAgdGhpcy5tdWx0aXBsZVNlbGVjdGlvbiA9IHZhbDsKICAgICAgdmFyIHJlc2RhdGEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHZhbCkpOyAvLyBjb25zb2xlLmxvZyhyZXNkYXRhKQoKICAgICAgaWYgKHJlc2RhdGEgPT0gJycpIHsKICAgICAgICB0aGlzLmRpc2FibGUgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZGlzYWJsZSA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb25UYWJsZVNlbGVjdDogZnVuY3Rpb24gb25UYWJsZVNlbGVjdChyb3dzLCByb3cpIHsKICAgICAgdmFyIHNlbGVjdGVkID0gcm93cy5sZW5ndGggJiYgcm93cy5pbmRleE9mKHJvdykgIT09IC0xOyAvLyBjb25zb2xlLmxvZyhzZWxlY3RlZCkgIC8vIHRydWXlsLHmmK/pgInkuK3vvIww5oiW6ICFZmFsc2XmmK/lj5bmtojpgInkuK0KCiAgICAgIGlmIChzZWxlY3RlZCkgewogICAgICAgIHRoaXMudG90YWxQcmljZSArPSByb3cucHJvZHVjdF9QcmljZSAqIHJvdy5udW07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50b3RhbFByaWNlIC09IHJvdy5wcm9kdWN0X1ByaWNlICogcm93Lm51bTsKICAgICAgfQogICAgfSwKICAgIHNlbGVjdEFsbDogZnVuY3Rpb24gc2VsZWN0QWxsKHNlbGVjdGlvbikgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgdmFyIHNlbGVjdGVkID0gc2VsZWN0aW9uLmxlbmd0aDsgLy8gY29uc29sZS5sb2coc2VsZWN0aW9uKQogICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3RlZCkKCiAgICAgIGlmIChzZWxlY3RlZCAhPSAwKSB7CiAgICAgICAgdGhpcy50b3RhbFByaWNlID0gMDsKICAgICAgICBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtLCBpbmRleCkgewogICAgICAgICAgX3RoaXMudG90YWxQcmljZSArPSBpdGVtLnByb2R1Y3RfUHJpY2UgKiBpdGVtLm51bTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnRvdGFsUHJpY2UgPSAwOwogICAgICB9CiAgICB9LAogICAgaXNDaGFuZzogZnVuY3Rpb24gaXNDaGFuZygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLnRvdGFsUHJpY2UgPSAwOwogICAgICB0aGlzLm11bHRpcGxlU2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSwgaW5kZXgpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhpdGVtKSAgICAKICAgICAgICBfdGhpczIudG90YWxQcmljZSArPSBpdGVtLnByb2R1Y3RfUHJpY2UgKiBpdGVtLm51bTsKICAgICAgfSk7CiAgICB9CiAgfSksCiAgY29tcHV0ZWQ6IF9vYmplY3RTcHJlYWQoe30sIG1hcEdldHRlcnMoWydjYXJ0UHJvZHVjdHMnLCAnY2FydERhdGEnXSkpCn07"},{"version":3,"sources":["cart.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA,SAAA,UAAA,EAAA,UAAA,QAAA,MAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,MADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,iBAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,CAFA;AAGA,MAAA,UAAA,EAAA,CAHA;AAIA,MAAA,MAAA,EAAA,EAJA;AAKA,MAAA,OAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,OAXA,qBAWA;AACA,SAAA,MAAA,CAAA,YAAA,EAAA,UAAA,QAAA,EAAA,QAAA,EAAA;AACA,UAAA,QAAA,IAAA,EAAA,EAAA;AACA,aAAA,MAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,MAAA,GAAA,KAAA;AACA;AACA,KANA;AAOA,GAnBA;AAoBA,EAAA,OAAA,kCACA,UAAA,CAAA,CAAA,YAAA,EAAA,QAAA,EAAA,aAAA,CAAA,CADA;AAEA,IAAA,OAFA,mBAEA,KAFA,EAEA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,QAAA;AACA,WAAA,MAAA,CAAA,QAAA,CAAA,aAAA,EAAA,KAAA;AACA,KALA;AAMA,IAAA,MANA,oBAMA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,OAAA;AACA,KARA;AASA,IAAA,qBATA,iCASA,GATA,EASA;AACA,WAAA,iBAAA,GAAA,GAAA;AACA,UAAA,OAAA,GAAA,IAAA,CAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,GAAA,CAAA,CAAA,CAFA,CAGA;;AACA,UAAA,OAAA,IAAA,EAAA,EAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,OAFA,MAEA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA,KAlBA;AAmBA,IAAA,aAnBA,yBAmBA,IAnBA,EAmBA,GAnBA,EAmBA;AACA,UAAA,QAAA,GAAA,IAAA,CAAA,MAAA,IAAA,IAAA,CAAA,OAAA,CAAA,GAAA,MAAA,CAAA,CAAA,CADA,CAEA;;AACA,UAAA,QAAA,EAAA;AACA,aAAA,UAAA,IAAA,GAAA,CAAA,aAAA,GAAA,GAAA,CAAA,GAAA;AACA,OAFA,MAEA;AACA,aAAA,UAAA,IAAA,GAAA,CAAA,aAAA,GAAA,GAAA,CAAA,GAAA;AACA;AAEA,KA5BA;AA6BA,IAAA,SA7BA,qBA6BA,SA7BA,EA6BA;AAAA;;AACA,UAAA,QAAA,GAAA,SAAA,CAAA,MAAA,CADA,CAEA;AACA;;AACA,UAAA,QAAA,IAAA,CAAA,EAAA;AACA,aAAA,UAAA,GAAA,CAAA;AACA,QAAA,SAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,UAAA,IAAA,IAAA,CAAA,aAAA,GAAA,IAAA,CAAA,GAAA;AACA,SAFA;AAGA,OALA,MAKA;AACA,aAAA,UAAA,GAAA,CAAA;AACA;AACA,KAzCA;AA0CA,IAAA,OA1CA,qBA0CA;AAAA;;AACA,WAAA,UAAA,GAAA,CAAA;AACA,WAAA,iBAAA,CAAA,GAAA,CAAA,UAAA,IAAA,EAAA,KAAA,EAAA;AACA;AACA,QAAA,MAAA,CAAA,UAAA,IAAA,IAAA,CAAA,aAAA,GAAA,IAAA,CAAA,GAAA;AACA,OAHA;AAIA;AAhDA,IApBA;AAsEA,EAAA,QAAA,oBACA,UAAA,CAAA,CAAA,cAAA,EAAA,UAAA,CAAA,CADA;AAtEA,CAAA","sourcesContent":["<template>\r\n  <div>\r\n        <img class=\"logo\" src=\"http://activity.dapuimg.com/2019082001logo.png\" alt=\"大朴网\" @click=\"tohome\">       \r\n        <div v-if=\"cartProducts == ''\" class=\"empty\">\r\n            <span style=\"font-size: 40px; \">您的购物车还是空的</span>\r\n            <div class=\"goBuy\">\r\n                <el-button type=\"info\" @click=\"tohome\">马上去购物</el-button>\r\n            </div>  \r\n        </div>\r\n        <div v-if=\"cartProducts != ''\">   \r\n            <div class=\"tittle\">\r\n                <strong style=\"float:left\">我的购物车</strong>\r\n                <strong class=\"fRight\" @click=\"delAll\">清空购物车</strong>\r\n            </div>\r\n            <el-table\r\n                :header-cell-style=\"{textAlign:'center',color:'#555'}\"\r\n                :cell-style=\"{textAlign:'center',color:'#555'}\"\r\n                ref=\"multipleTable\"\r\n                :data=\"cartProducts\"\r\n                border\r\n                style=\"width: 85%; margin:0 auto;\"\r\n                tooltip-effect=\"dark\" \r\n                @select='onTableSelect'\r\n                @select-all=\"selectAll\"\r\n                @selection-change=\"handleSelectionChange\">\r\n                    <el-table-column\r\n                    type=\"selection\"\r\n                    width=\"70\">\r\n                    </el-table-column>  \r\n                    <el-table-column\r\n                    label=\"商品信息\" >\r\n                        <template slot-scope=\"scope\">\r\n                            <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">\r\n                                <img :src=\"scope.row.img\" alt=\"\" style=\"float:left\">\r\n                            </router-link>\r\n                            <router-link :to=\"{ path: '/productdetails/' + scope.row.id }\">{{scope.row.product_Name}}</router-link>\r\n                            <p><span>{{scope.row.Title1+\" \"+scope.row.Title1value}}</span> <span v-if=\"scope.row.Title2!=''\">{{\"、\"+scope.row.Title2+\"\"+scope.row.Title2value}}</span></p>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    label=\"商品单价\"\r\n                    width=\"140\">\r\n                        <template slot-scope=\"scope\">\r\n                            <span>¥{{scope.row.product_Price}}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    \r\n                    label=\"商品数量\"\r\n                    width=\"200\"\r\n                    show-overflow-tooltip>\r\n                        <template slot-scope=\"scope\">\r\n                            <el-input-number size=\"mini\" v-model=\"scope.row.num\" :min=\"1\" :max=\"scope.row.stock\" @change=\"isChang()\"></el-input-number>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    label=\"小计\"\r\n                    width=\"140\"\r\n                    show-overflow-tooltip>\r\n                        <template slot-scope=\"scope\">\r\n                            <span>¥{{scope.row.num*scope.row.product_Price}}</span>\r\n                        </template>\r\n                    </el-table-column>\r\n                    <el-table-column\r\n                    fixed=\"right\"\r\n                    label=\"操作\"\r\n                    width=\"140\">\r\n                        <template slot-scope=\"scope\">\r\n                            <el-button  type=\"danger\" @click=\"delProduct(scope.row,)\">删除</el-button>\r\n                        </template>\r\n                    </el-table-column>\r\n            </el-table>\r\n            <div class=\"down\" v-show=\"isshow\">\r\n                <h3>已享受到的促销优惠：</h3>\r\n                <p>满88包邮</p>\r\n            </div>\r\n            <div class=\"mydown\" v-if=\"cartProducts != ''\">\r\n                <div>   \r\n                    <p>原始金额：¥{{totalPrice}}</p>\r\n                </div>\r\n                <div>\r\n                    <p style=\"color:red\">优惠金额：¥{{discountts}}</p>\r\n                </div>\r\n                <div>\r\n                    <p style=\"font-weight:700\">商品总金额(不含运费)：¥{{totalPrice-discountts}}</p>\r\n                </div>\r\n                <div class=\"mybutton\">\r\n                    <el-button type=\"info\" @click=\"tohome\">继续购物</el-button>\r\n                    <el-button :disabled=\"disable\" type=\"danger\" @click=\"toOrder(multipleSelection)\">去结算</el-button>\r\n                </div>\r\n            </div>\r\n        </div>      \r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import  {mapActions,mapGetters} from 'vuex'\r\n    export default {\r\n        name: 'cart',\r\n        data(){\r\n            return{\r\n                multipleSelection: [],\r\n                discountts: 0,\r\n                totalPrice: 0,\r\n                isshow:\"\",\r\n                disable: true\r\n            }\r\n        },\r\n        created() {\r\n            this.$watch(\"totalPrice\", function (newValue, oldValue) {\r\n                if(newValue >= 88) {\r\n                    this.isshow = true\r\n                }else{\r\n                    this.isshow = false\r\n                }\r\n            })\r\n        },\r\n        methods:{\r\n            ...mapActions(['delProduct','delAll','submitOrder']),\r\n            toOrder(value) {\r\n                this.$router.push(\"/order\");             \r\n                this.$store.dispatch(\"submitOrder\",value) \r\n            },\r\n            tohome(){\r\n                this.$router.push(\"/home\")\r\n            },\r\n            handleSelectionChange(val) {\r\n                this.multipleSelection = val   \r\n                let resdata=JSON.parse(JSON.stringify(val));    \r\n                // console.log(resdata)\r\n                if(resdata == ''){\r\n                    this.disable = true\r\n                } else {\r\n                    this.disable = false\r\n                }\r\n            },\r\n            onTableSelect(rows, row) {\r\n                let selected = rows.length && rows.indexOf(row) !== -1\r\n                // console.log(selected)  // true就是选中，0或者false是取消选中\r\n                if(selected){\r\n                    this.totalPrice += row.product_Price*row.num\r\n                }else{\r\n                    this.totalPrice -= row.product_Price*row.num\r\n                }\r\n                \r\n            },\r\n            selectAll(selection){\r\n                let selected = selection.length\r\n                // console.log(selection)\r\n                // console.log(selected)\r\n                if(selected != 0){\r\n                    this.totalPrice = 0\r\n                selection.map((item,index)=>{      \r\n                    this.totalPrice += item.product_Price*item.num\r\n                })\r\n                }else{\r\n                    this.totalPrice = 0\r\n                }\r\n            },\r\n            isChang() {\r\n                this.totalPrice = 0\r\n                this.multipleSelection.map((item,index)=>{ \r\n                        // console.log(item)    \r\n                this.totalPrice += item.product_Price*item.num\r\n                })\r\n                }\r\n            },\r\n        computed:{\r\n            ...mapGetters(['cartProducts','cartData'])   \r\n\r\n        },\r\n    }\r\n</script>\r\n<style scoped lang=\"scss\">\r\n@import \"~assets/css/cart/cart.scss\";\r\n</style>"],"sourceRoot":"src/components/content"}]}