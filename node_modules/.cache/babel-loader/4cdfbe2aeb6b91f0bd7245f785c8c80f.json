{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\store\\shopmenustore.js","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\store\\shopmenustore.js","mtime":1595004929484},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgZ2V0TWVudSB9IGZyb20gJ0AvbmV0d29yay9zaG9wTWVudSc7ClZ1ZS51c2UoVnVleCk7CnZhciBzdGF0ZSA9IHsKICBtZW51bGlzdDogW10sCiAgLy/oj5zljZXmoI/kv6Hmga8KICBuYXZiYXI6ICcnCn07CnZhciBnZXR0ZXJzID0gewogIC8v6I+c5Y2V5qCP5L+h5oGvCiAgbWVudWxpc3Q6IGZ1bmN0aW9uIG1lbnVsaXN0KHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubWVudWxpc3Q7CiAgfSwKICBsaXN0OiBmdW5jdGlvbiBsaXN0KHN0YXRlLCBnZXR0ZXJzKSB7CiAgICAvL+WPr+S7pemAmui/h+W9ouWPguiOt+WPlmdldHRlcuiHquW3se+8jOaLv+WIsOi0reeJqei9pueahOS/oeaBr++8mmdldHRlci5jYXJ0UHJvZHVjdHMKICAgIHZhciBkYXRhID0gZ2V0dGVycy5tZW51bGlzdDsKICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICBkZWxldGUgaXRlbS5jaGlsZHJlbjsKICAgIH0pOyAvLyDlsIbmlbDmja7lrZjlgqjkuLog5LulIGlkIOS4uiBLRVkg55qEIG1hcCDntKLlvJXmlbDmja7liJcKCiAgICB2YXIgbWFwID0ge307CiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgbWFwW2l0ZW0uaWRdID0gaXRlbTsKICAgIH0pOyAvLyBjb25zb2xlLmxvZyhtYXApCgogICAgdmFyIHZhbCA9IFtdOwogICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgIC8vIOS7peW9k+WJjemBjeWOhumhue+8jOeahHBpZCzljrttYXDlr7nosaHkuK3mib7liLDntKLlvJXnmoRpZAogICAgICB2YXIgcGFyZW50ID0gbWFwW2l0ZW0ucGlkXTsgLy8g5aW957uV5ZWK77yM5aaC5p6c5om+5Yiw57Si5byV77yM6YKj5LmI6K+05piO5q2k6aG55LiN5Zyo6aG257qn5b2T5LitLOmCo+S5iOmcgOimgeaKiuatpOmhuea3u+WKoOWIsO+8jOS7luWvueW6lOeahOeItue6p+S4rQoKICAgICAgaWYgKHBhcmVudCkgewogICAgICAgIC8vIHBhcmVudFswXS5zaG93ID0gZmFsc2UKICAgICAgICA7CiAgICAgICAgKHBhcmVudC5jaGlsZHJlbiB8fCAocGFyZW50LmNoaWxkcmVuID0gW10pKS5wdXNoKGl0ZW0pOwogICAgICB9IGVsc2UgewogICAgICAgIC8v5aaC5p6c5rKh5pyJ5ZyobWFw5Lit5om+5Yiw5a+55bqU55qE57Si5byVSUQs6YKj5LmI55u05o6l5oqKIOW9k+WJjeeahGl0ZW3mt7vliqDliLAgdmFs57uT5p6c6ZuG5Lit77yM5L2c5Li66aG257qnCiAgICAgICAgdmFsLnB1c2goaXRlbSk7CiAgICAgIH0KICAgIH0pOwogICAgcmV0dXJuIHZhbDsKICB9LAogIG5hdmJhcjogZnVuY3Rpb24gbmF2YmFyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUubmF2YmFyOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgLy/ojrflj5boj5zljZXmoI/kv6Hmga8KICBnZXRNZW51TGlzdDogZnVuY3Rpb24gZ2V0TWVudUxpc3QoX3JlZikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgZ2V0TWVudSgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICB2YXIgZGF0YSA9IHJlcy5kYXRhLmRhdGE7CiAgICAgIGNvbW1pdCgnZ2V0TWVudUxpc3QnLCBkYXRhKTsKICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgfSk7CiAgfSwKCiAgLyog5p+l5om+5a+86IiqICovCiAgc2V0TmF2OiBmdW5jdGlvbiBzZXROYXYoX3JlZjIsIHN0cikgewogICAgdmFyIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgIGNvbW1pdCgnc2V0bmF2Jywgc3RyKTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgZ2V0TWVudUxpc3Q6IGZ1bmN0aW9uIGdldE1lbnVMaXN0KHN0YXRlLCBkYXRhKSB7CiAgICAvLyBjb25zb2xlLmxvZyhkYXRhKQogICAgc3RhdGUubWVudWxpc3QgPSBkYXRhOyAvLyBzdGF0ZS5uYXZiYXIgPSAKICAgIC8vIHJldHVybiBzdGF0ZTsKICB9LAogIHNldG5hdjogZnVuY3Rpb24gc2V0bmF2KHN0YXRlLCBkYXRhKSB7CiAgICBzdGF0ZS5uYXZiYXIgPSBkYXRhOyAvLyBjb25zb2xlLmxvZyhkYXRhICsgInNldG5hdiBzdG9yZSIpOwogICAgLy8gY29uc29sZS5sb2coc3RhdGUubmF2YmFyKQogICAgLy8gY29uc29sZS5sb2coc3RhdGUpCiAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZS5tZW51bGlzdCkKICB9Cn07CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgZ2V0dGVyczogZ2V0dGVycywKICBhY3Rpb25zOiBhY3Rpb25zCn07"},{"version":3,"sources":["E:/学习记录/作业/四阶段/四阶段项目/shopManage/src/store/shopmenustore.js"],"names":["Vue","Vuex","getMenu","use","state","menulist","navbar","getters","list","data","forEach","item","children","map","id","val","parent","pid","push","actions","getMenuList","commit","then","res","catch","e","console","log","setNav","str","mutations","setnav"],"mappings":";;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,OAAT,QAAwB,oBAAxB;AACAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AACA,IAAMG,KAAK,GAAG;AACVC,EAAAA,QAAQ,EAAE,EADA;AACI;AACdC,EAAAA,MAAM,EAAE;AAFE,CAAd;AAIA,IAAMC,OAAO,GAAG;AACZ;AACAF,EAAAA,QAAQ,EAAE,kBAAAD,KAAK;AAAA,WAAIA,KAAK,CAACC,QAAV;AAAA,GAFH;AAGZG,EAAAA,IAAI,EAAE,cAACJ,KAAD,EAAQG,OAAR,EAAoB;AAAE;AACxB,QAAIE,IAAI,GAAGF,OAAO,CAACF,QAAnB;AACAI,IAAAA,IAAI,CAACC,OAAL,CAAa,UAASC,IAAT,EAAe;AACpB,aAAOA,IAAI,CAACC,QAAZ;AACH,KAFL,EAFsB,CAKlB;;AACJ,QAAIC,GAAG,GAAG,EAAV;AACAJ,IAAAA,IAAI,CAACC,OAAL,CAAa,UAASC,IAAT,EAAe;AACpBE,MAAAA,GAAG,CAACF,IAAI,CAACG,EAAN,CAAH,GAAeH,IAAf;AACH,KAFL,EAPsB,CAUlB;;AACJ,QAAII,GAAG,GAAG,EAAV;AACAN,IAAAA,IAAI,CAACC,OAAL,CAAa,UAASC,IAAT,EAAe;AACxB;AACA,UAAIK,MAAM,GAAGH,GAAG,CAACF,IAAI,CAACM,GAAN,CAAhB,CAFwB,CAGpB;;AACJ,UAAID,MAAJ,EAAY;AACR;AACA;AACA,SAACA,MAAM,CAACJ,QAAP,KAAoBI,MAAM,CAACJ,QAAP,GAAkB,EAAtC,CAAD,EAA4CM,IAA5C,CAAiDP,IAAjD;AACH,OAJD,MAIO;AACH;AACAI,QAAAA,GAAG,CAACG,IAAJ,CAASP,IAAT;AACH;AACJ,KAZD;AAaA,WAAOI,GAAP;AACH,GA7BW;AA8BZT,EAAAA,MAAM,EAAE,gBAAAF,KAAK;AAAA,WAAIA,KAAK,CAACE,MAAV;AAAA;AA9BD,CAAhB;AAgCA,IAAMa,OAAO,GAAG;AACZ;AACAC,EAAAA,WAFY,6BAEY;AAAA,QAAVC,MAAU,QAAVA,MAAU;AACpBnB,IAAAA,OAAO,GACFoB,IADL,CACU,UAAAC,GAAG,EAAI;AACT,UAAId,IAAI,GAAGc,GAAG,CAACd,IAAJ,CAASA,IAApB;AACAY,MAAAA,MAAM,CAAC,aAAD,EAAgBZ,IAAhB,CAAN;AACH,KAJL,EAKKe,KALL,CAKW,UAAAC,CAAC,EAAI;AACRC,MAAAA,OAAO,CAACC,GAAR,CAAYF,CAAZ;AACH,KAPL;AAQH,GAXW;;AAYZ;AACAG,EAAAA,MAbY,yBAaOC,GAbP,EAaY;AAAA,QAAfR,MAAe,SAAfA,MAAe;AACpBA,IAAAA,MAAM,CAAC,QAAD,EAAWQ,GAAX,CAAN;AACH;AAfW,CAAhB;AAiBA,IAAMC,SAAS,GAAG;AACdV,EAAAA,WADc,uBACFhB,KADE,EACKK,IADL,EACW;AACrB;AACAL,IAAAA,KAAK,CAACC,QAAN,GAAiBI,IAAjB,CAFqB,CAGrB;AACA;AACH,GANa;AAOdsB,EAAAA,MAPc,kBAOP3B,KAPO,EAOAK,IAPA,EAOM;AAChBL,IAAAA,KAAK,CAACE,MAAN,GAAeG,IAAf,CADgB,CAEhB;AACA;AACA;AACA;AACH;AAba,CAAlB;AAeA,eAAe;AACXL,EAAAA,KAAK,EAALA,KADW;AAEX0B,EAAAA,SAAS,EAATA,SAFW;AAGXvB,EAAAA,OAAO,EAAPA,OAHW;AAIXY,EAAAA,OAAO,EAAPA;AAJW,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport { getMenu } from '@/network/shopMenu';\r\nVue.use(Vuex);\r\nconst state = {\r\n    menulist: [], //菜单栏信息\r\n    navbar: ''\r\n}\r\nconst getters = {\r\n    //菜单栏信息\r\n    menulist: state => state.menulist,\r\n    list: (state, getters) => { //可以通过形参获取getter自己，拿到购物车的信息：getter.cartProducts\r\n        let data = getters.menulist;\r\n        data.forEach(function(item) {\r\n                delete item.children\r\n            })\r\n            // 将数据存储为 以 id 为 KEY 的 map 索引数据列\r\n        var map = {}\r\n        data.forEach(function(item) {\r\n                map[item.id] = item\r\n            })\r\n            // console.log(map)\r\n        var val = []\r\n        data.forEach(function(item) {\r\n            // 以当前遍历项，的pid,去map对象中找到索引的id\r\n            var parent = map[item.pid]\r\n                // 好绕啊，如果找到索引，那么说明此项不在顶级当中,那么需要把此项添加到，他对应的父级中\r\n            if (parent) {\r\n                // parent[0].show = false\r\n                ;\r\n                (parent.children || (parent.children = [])).push(item)\r\n            } else {\r\n                //如果没有在map中找到对应的索引ID,那么直接把 当前的item添加到 val结果集中，作为顶级\r\n                val.push(item)\r\n            }\r\n        })\r\n        return val;\r\n    },\r\n    navbar: state => state.navbar\r\n}\r\nconst actions = {\r\n    //获取菜单栏信息\r\n    getMenuList({ commit }) {\r\n        getMenu()\r\n            .then(res => {\r\n                let data = res.data.data\r\n                commit('getMenuList', data)\r\n            })\r\n            .catch(e => {\r\n                console.log(e)\r\n            })\r\n    },\r\n    /* 查找导航 */\r\n    setNav({ commit }, str) {\r\n        commit('setnav', str)\r\n    }\r\n}\r\nconst mutations = {\r\n    getMenuList(state, data) {\r\n        // console.log(data)\r\n        state.menulist = data;\r\n        // state.navbar = \r\n        // return state;\r\n    },\r\n    setnav(state, data) {\r\n        state.navbar = data;\r\n        // console.log(data + \"setnav store\");\r\n        // console.log(state.navbar)\r\n        // console.log(state)\r\n        // console.log(state.menulist)\r\n    }\r\n}\r\nexport default {\r\n    state,\r\n    mutations,\r\n    getters,\r\n    actions\r\n}"]}]}