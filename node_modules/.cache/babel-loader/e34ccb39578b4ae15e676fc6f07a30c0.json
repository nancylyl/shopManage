{"remainingRequest":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js!E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\store\\collectPro.js","dependencies":[{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\src\\store\\collectPro.js","mtime":1595004929481},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\学习记录\\作业\\四阶段\\四阶段项目\\shopManage\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgVnVleCBmcm9tICd2dWV4JzsKaW1wb3J0IHsgc2hvd0NvbGxlY3QsIENvbGxlY3RQcm9TcmMsIGRlbGV0ZUNvbGxlY3RQcm8gfSBmcm9tICdAL25ldHdvcmsvc2hvd0NvbGxlY3QnOwpWdWUudXNlKFZ1ZXgpOwp2YXIgc3RhdGUgPSB7CiAgY29sbGVjdFByb0xpc3Q6IFtdLAogIG15UF9JZDogJycKfTsKdmFyIGdldHRlcnMgPSB7CiAgLyrlsZXnpLrmlLbol48qLwogIHNob3dDYXJ0TGlzdDogZnVuY3Rpb24gc2hvd0NhcnRMaXN0KHN0YXRlKSB7CiAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZS5jb2xsZWN0UHJvTGlzdCk7CiAgICByZXR1cm4gc3RhdGUuY29sbGVjdFByb0xpc3Q7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBzaG93UHJvOiBmdW5jdGlvbiBzaG93UHJvKCkgewogICAgc3RhdGUuY29sbGVjdFByb0xpc3QgPSBbXTsKICAgIHZhciBVSWQgPSBzZXNzaW9uU3RvcmFnZS5teVVzZXI7CiAgICB2YXIgbXlwaWQ7IC8v5Zu+54mHSUQKCiAgICBzaG93Q29sbGVjdChVSWQpLnRoZW4oZnVuY3Rpb24gKHJlcCkgewogICAgICBteXBpZCA9IHJlcC5kYXRhLmRhdGE7CiAgICAgIGNvbnNvbGUubG9nKCJteXBpZOeahOmVv+W6puaYryIgKyBteXBpZC5sZW5ndGgpOwogICAgICBjb25zb2xlLmxvZyhteXBpZCk7CiAgICAgIHZhciBtbSA9IG15cGlkLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICBjb25zb2xlLmxvZyhpdGVtKTsKICAgICAgICBDb2xsZWN0UHJvU3JjKGl0ZW0uUElkKS50aGVuKGZ1bmN0aW9uIChyZXApIHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcC5kYXRhLmRhdGFbMF0pOwogICAgICAgICAgdmFyIG1tYSA9IE9iamVjdC5hc3NpZ24ocmVwLmRhdGEuZGF0YVswXSwgewogICAgICAgICAgICBQSWQ6IGl0ZW0uUElkCiAgICAgICAgICB9KTsKICAgICAgICAgIGNvbnNvbGUubG9nKG1tYSk7CiAgICAgICAgICBzdGF0ZS5jb2xsZWN0UHJvTGlzdC5wdXNoKG1tYSk7CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0pOwogIH0sCgogIC8q5Yig6Zmk5pS26JePKi8KICBkZWxldGVDb2xsZWN0OiBmdW5jdGlvbiBkZWxldGVDb2xsZWN0KGN0eCwgcHJvZHVjdCkgewogICAgY3R4LmNvbW1pdCgnZGVsVGhpc1Nob3AnLCBwcm9kdWN0KTsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgLyrliKDpmaTmlLbol4/kuqflk4EqLwogIGRlbFRoaXNTaG9wOiBmdW5jdGlvbiBkZWxUaGlzU2hvcChzdGF0ZSwgcHJvZHVjdCkgewogICAgLy8gY29uc29sZS5sb2cocHJvZHVjdCk7CiAgICBzdGF0ZS5jb2xsZWN0UHJvTGlzdC5tYXAoZnVuY3Rpb24gKGl0ZW0sIGluZGV4KSB7CiAgICAgIGlmIChpdGVtLlBJZCA9PSBwcm9kdWN0LlBJZCkgewogICAgICAgIHN0YXRlLmNvbGxlY3RQcm9MaXN0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0pOwogICAgLyror6Xkuqflk4FJRCovCgogICAgdmFyIFBJZCA9IHByb2R1Y3QuUElkOwogICAgLyrnlKjmiLdJRCovCgogICAgdmFyIFVJZCA9IHNlc3Npb25TdG9yYWdlLm15VXNlcjsKICAgIHZhciBkYXRhID0gewogICAgICBQSWQ6IFBJZCwKICAgICAgVUlkOiBVSWQKICAgIH07CiAgICBkZWxldGVDb2xsZWN0UHJvKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlcCkgewogICAgICBjb25zb2xlLmxvZyhyZXAuZGF0YS5tZXNzYWdlKTsKICAgIH0pOwogIH0KfTsKZXhwb3J0IGRlZmF1bHQgewogIHN0YXRlOiBzdGF0ZSwKICBtdXRhdGlvbnM6IG11dGF0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzLAogIGFjdGlvbnM6IGFjdGlvbnMKfTs="},{"version":3,"sources":["E:/学习记录/作业/四阶段/四阶段项目/shopManage/src/store/collectPro.js"],"names":["Vue","Vuex","showCollect","CollectProSrc","deleteCollectPro","use","state","collectProList","myP_Id","getters","showCartList","actions","showPro","UId","sessionStorage","myUser","mypid","then","rep","data","console","log","length","mm","forEach","item","PId","mma","Object","assign","push","catch","e","deleteCollect","ctx","product","commit","mutations","delThisShop","map","index","splice","message"],"mappings":"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","sourcesContent":["import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport { showCollect,CollectProSrc,deleteCollectPro } from '@/network/showCollect';\r\nVue.use(Vuex);\r\n\r\n\r\nconst state = {\r\n  collectProList:[],\r\n  myP_Id: ''\r\n}\r\n\r\n\r\nconst getters = {\r\n  /*展示收藏*/\r\n  showCartList(state){\r\n    // console.log(state.collectProList);\r\n    return state.collectProList;\r\n  }\r\n}\r\n\r\n\r\nconst actions = {\r\n  showPro(){\r\n    state.collectProList=[];\r\n    let UId=sessionStorage.myUser;\r\n    let mypid;//图片ID\r\n\r\n    showCollect(UId)\r\n      .then(rep=> {\r\n\r\n        mypid = rep.data.data;\r\n        console.log(\"mypid的长度是\" + mypid.length);\r\n        console.log(mypid);\r\n\r\n        let mm = mypid.forEach(item => {\r\n          console.log(item);\r\n          CollectProSrc(item.PId)\r\n            .then(rep => {\r\n              console.log(rep.data.data[0]);\r\n              let mma = Object.assign(rep.data.data[0], {PId: item.PId})\r\n              console.log(mma)\r\n              state.collectProList.push(mma);\r\n            })\r\n            .catch(e => {\r\n              console.log(e);\r\n            })\r\n        })\r\n      })\r\n  },\r\n\r\n\r\n\r\n  /*删除收藏*/\r\n  deleteCollect(ctx,product){\r\n    ctx.commit('delThisShop',product);\r\n  }\r\n\r\n}\r\n\r\n\r\n\r\nconst mutations = {\r\n  /*删除收藏产品*/\r\n  delThisShop(state,product){\r\n    // console.log(product);\r\n    state.collectProList.map((item,index)=>{\r\n      if(item.PId==product.PId){\r\n        state.collectProList.splice(index,1);\r\n      }\r\n    });\r\n    /*该产品ID*/\r\n    let PId=product.PId;\r\n    /*用户ID*/\r\n    let UId=sessionStorage.myUser;\r\n\r\n    let data={PId,UId};\r\n    deleteCollectPro(data)\r\n      .then((rep)=>{\r\n        console.log(rep.data.message);\r\n      })\r\n\r\n  }\r\n}\r\n\r\n\r\nexport default {\r\n  state,\r\n  mutations,\r\n  getters,\r\n  actions\r\n}\r\n"]}]}